{"version":3,"sources":["redux/reducers/attachments.js","redux/reducers/dialogs.js","redux/reducers/messages.js","redux/reducers/user.js","assets/img/wave.svg","assets/img/waveBlack.svg","assets/img/play.svg","assets/img/pause.svg","assets/img/checked.svg","assets/img/unchecked.svg","assets/img/logo512.png","redux/reducers sync /^/.*$","redux/store.js","utils/validate.js","components/Button/index.jsx","components/WhiteBlock/index.js","utils/helpers/validateField.js","utils/helpers/openNotification.js","components/AudioMessage/index.jsx","utils/helpers/convertCurrentTime.js","components/Message/index.jsx","components/DialogItem/index.jsx","components/IconChecked/index.jsx","components/DateInfo/index.jsx","components/Dialogs/index.jsx","components/Messages/index.jsx","components/AccountMenu/index.jsx","components/Avatar/index.jsx","utils/helpers/generateAvatarFromHash.js","components/ChatInput/index.jsx","components/Status/index.jsx","core/axios.js","core/socket.js","utils/api/dialogs.js","utils/api/messages.js","utils/api/user.js","utils/api/upload.js","components/VerifyEmail/index.jsx","redux/actions/dialogs.js","redux/actions/messages.js","redux/actions/user.js","redux/actions/attachments.js","containers/Dialogs.js","containers/Messages.js","containers/ChatInput.js","containers/Status.js","containers/Sidebar.js","components/Sidebar/index.jsx","components/FilesUploader/index.jsx","components/GoBackButton/index.jsx","modules/LoginForm/components/LoginForm.jsx","modules/LoginForm/index.js","modules/LoginForm/containers/LoginForm.js","modules/RegisterForm/components/RegisterForm.jsx","modules/RegisterForm/index.js","modules/RegisterForm/containers/RegisterForm.js","pages/Auth/index.jsx","pages/Home/index.jsx","App.js","index.js","redux/reducers/index.js"],"names":["initialState","items","attachments","state","type","payload","filter","file","uid","currentDialogId","window","location","pathname","split","isLoading","dialogs","messages","message","_id","text","windowLocalStorageToken","localStorage","token","undefined","data","isAuthed","user","module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","store","createStore","rootReducer","applyMiddleware","isAuth","values","errors","rules","email","test","password","repassword","fullname","forEach","key","Button","props","className","classNames","size","Block","children","touched","title","duration","notification","description","AudioMessage","audio","isMe","useState","isPlaying","setPlaying","currentTime","setCurrentTime","progress","setProgress","audioElem","useRef","useEffect","audioElement","current","addEventListener","ref","src","preload","style","width","onClick","pause","play","pauseSvg","alt","playSvg","waveBlackSvg","waveSvg","number","mins","Math","floor","secs","toFixed","convertCurrentTime","Message","createdAt","unchecked","isAudio","isTyping","onRemoveMessage","setPreviewImage","length","content","trigger","shape","icon","reactStringReplace","match","emoji","set","random","url","item","filename","date","DialogsItem","time","onSelect","lastMessage","to","join","isOnline","bind","Date","isToday","format","round","ext","IconChecked","unCheckedIcon","checkedIcon","DateInfo","formatDistanceToNow","addSuffix","Dialogs","myId","onSearch","inputValue","onSelectDialog","Search","placeholder","onChange","target","value","orderBy","author","partner","image","Empty","PRESENTED_IMAGE_SIMPLE","Messages","baseRef","previewImage","allowedAudioFormats","spin","includes","visible","onCancel","footer","AccountMenu","userName","isVisible","placement","clear","reload","Avatar","isMenuVisible","setIsMenuVisible","accountMenu","document","querySelector","el","contains","avatar","color","hash","toString","substr","char","charCodeAt","r","g","b","tinycolor","lighten","saturate","toHexString","colorLighten","generateAvatarFromHash","firstCharOfName","background","TextArea","Input","ChatInput","toggleEmojiTab","emojiTabIsActive","setValue","handleEmojiSelect","handleSendMessage","handleFileUpload","removeAttachment","isRecording","onRecord","onStopRecording","onFiles","containerProps","uploadProps","accept","multiple","height","autosize","maxRows","innerWidth","onKeyUp","Status","online","axios","defaults","baseURL","origin","headers","common","sockets","socketIO","replace","dialogsApi","getAll","get","create","partnerId","post","messagesApi","getDialogById","dialogId","send","dialog","removeById","delete","userApi","login","postData","getMe","verifyHash","register","findUsers","query","uploadApi","upload","formData","FormData","append","console","log","VerifyEmail","history","verified","setVerified","statusMessage","setStatusMessage","status","setStatus","search","then","catch","toUpperCase","subTitle","extra","push","actions","setDialogs","setCurrentDialogId","transform","fetchDialogs","dispatch","messagesActions","setMessages","addMessage","getState","setIsLoading","bool","removeMessageById","messageId","fetchMessageSend","fetchMessages","setUserData","setIsAuthed","fetchUserData","fetchUserRegister","fetchUserLogin","openNotification","setAttachments","connect","dialogsActions","Array","from","filtered","setFiltered","socket","on","toLowerCase","indexOf","fetchMessageChange","messagesRef","onDialogChange","removeListener","scrollTop","scrollHeight","attachmentsActions","navigator","getUserMedia","mozGetUserMedia","msGetUserMedia","webkitGetUserMedia","setEmojiTabIsActive","setIsRecording","mediaRecorder","setMediaRecorder","handleOutsideClick","closest","classList","onRecording","stream","recorder","MediaRecorder","start","onstart","onstop","ondataavailable","audioFile","File","audioId","onError","err","files","a","uploaded","name","emojiTabButton","colons","trim","keyCode","preventDefault","stop","currentDialog","setIsVisible","setInputValue","users","setUsers","isSearching","setIsSearching","selectedUserId","setSelectedUserId","messageText","setMessageText","handleClose","onShow","onClose","onModalOk","onChangeInput","onSelectUser","userId","onTextAreaChange","Option","Select","Sidebar","options","display","alignItems","marginLeft","logo","disabled","loading","Item","label","notFoundContent","defaultActiveFirstOption","showArrow","filterOption","showSearch","marginTop","minRows","defaultProps","getBase64","Promise","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","FilesUploader","previewVisible","fileList","setState","handlePreview","preview","originalFileObj","action","listType","onPreview","onRemove","GoBackButton","fontSize","LoginForm","handleChange","handleBlur","handleSubmit","isValid","isSubmitting","validateStatus","validateField","help","prefix","onBlur","htmlType","withFormik","mapPropsToValues","validate","validateForm","setSubmitting","userActions","displayName","RegisterForm","hasFeedback","Auth","exact","path","component","withRouter","myInfo","setMyInfo","render","ReactDOM","combineReducers","reduce","initial","require","default"],"mappings":"wqBAAA,IAAMA,EAAe,CACjBC,MAAO,IAoBIC,UAjBK,WAA8C,IAA7CC,EAA4C,uDAApCH,EAAoC,yCAApBI,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC/C,OAAOD,GACH,IAAK,wBACD,OAAO,EAAP,GACOD,EADP,CAEIF,MAAOI,IAEf,IAAK,0BACD,OAAO,EAAP,GACOF,EADP,CAEIF,MAAOE,EAAMF,MAAMK,OAAO,SAAAC,GAAI,OAAIA,EAAKC,MAAQH,EAAQG,QAE/D,QACI,OAAOL,K,umBCjBnB,IAAMH,EAAe,CACjBC,MAAO,GACPQ,gBAAiBC,OAAOC,SAASC,SAASC,MAAM,WAAW,GAC3DC,WAAW,GAyBAC,UAtBC,WAA8C,IAA7CZ,EAA4C,uDAApCH,EAAoC,yCAApBI,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC3C,OAAOD,GACH,IAAK,oBACD,OAAO,EAAP,GACOD,EADP,CAEIF,MAAOI,IAEf,IAAK,yBACD,OAAO,EAAP,GACOF,EADP,CAEIW,UAAWT,IAEnB,IAAK,gCACD,OAAO,EAAP,GACOF,EADP,CAEIM,gBAAiBJ,IAEzB,QACI,OAAOF,K,gnBCxBnB,IAAMH,EAAe,CACjBC,MAAO,GACPa,WAAW,GAuCAE,UApCE,WAA8C,IAA7Cb,EAA4C,uDAApCH,EAAoC,yCAApBI,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC5C,OAAOD,GACH,IAAK,qBACD,OAAO,EAAP,GACOD,EADP,CAEIF,MAAOI,EACPS,WAAW,IAEnB,IAAK,uBACD,OAAO,EAAP,GACOX,EADP,CAEIF,MAAM,GAAD,mBACEE,EAAMF,OADR,CAEDI,MAGZ,IAAK,0BACD,OAAO,EAAP,GACOF,EADP,CAEIF,MAAOE,EAAMF,MAAMK,OAAO,SAAAW,GAAO,OAAIA,EAAQC,MAAQb,EAAQa,MAAMD,EAAQE,KAAOd,EAAQc,UAElG,IAAK,0BACD,OAAO,EAAP,GACOhB,EADP,CAEIF,MAAOE,EAAMF,MAAMK,OAAO,SAAAW,GAAO,OAAIA,EAAQC,MAAQb,MAE7D,IAAK,0BACD,OAAO,EAAP,GACOF,EADP,CAEIW,UAAWT,IAEnB,QACI,OAAOF,K,umBCrCnB,IAAMiB,EAAwD,cAA9BV,OAAOW,aAAaC,WAAwBC,EAAYb,OAAOW,aAAaC,MAEtGtB,EAAe,CACjBwB,KAAM,KACNF,MAAOF,EACPK,WAAYL,GAsBDM,UAnBF,WAA4C,IAA3CvB,EAA0C,uDAAlCH,EAAkC,yCAAnBI,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,QACvC,OAAOD,GACH,IAAK,gBACD,OAAO,EAAP,GACOD,EADP,CAEIqB,KAAMnB,EACNoB,UAAU,EACVH,MAAOZ,OAAOW,aAAaC,QAEnC,IAAK,qBACD,OAAO,EAAP,GACOnB,EADP,CAEIsB,SAAUpB,IAElB,QACI,OAAOF,K,oBCvBnBwB,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,kBCA3CD,EAAOC,QAAU,s/S,0DCAjB,IAAIC,EAAM,CACT,KAAM,GACN,gBAAiB,IACjB,mBAAoB,IACpB,YAAa,IACb,eAAgB,IAChB,UAAW,GACX,aAAc,GACd,aAAc,IACd,gBAAiB,IACjB,SAAU,IACV,YAAa,KAId,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBN,EAAOC,QAAUE,EACjBA,EAAeE,GAAK,K,kaC3BdU,EAAmBhC,OAAOiC,sCAAwCC,IAElEC,EAAa,CAACC,KAMLC,EAJDC,YAAYC,UAAaP,EACnCQ,IAAe,WAAf,EAAmBL,KCVR,cAAiC,IAA9BM,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,OACxBC,EAAQ,CACVC,MAAO,SAACF,EAAQD,GACPA,EAAOG,MAGP,4CAA4CC,KAAKJ,EAAOG,SAEzDF,EAAOE,MAAQ,yBAJfF,EAAOE,MAAQ,sBAQvBE,SAAU,SAACJ,EAAQD,GACVA,EAAOK,SAGPN,GAAW,oCAAoCK,KAAKJ,EAAOK,YAE5DJ,EAAOI,SAAWN,EAAS,mBAAqB,6BAJhDE,EAAOI,SAAW,yBAQ1BC,WAAY,SAACL,EAAQD,GACZA,EAAOM,YAEAL,EAAOI,UAAYL,EAAOM,aAAeN,EAAOK,YACxDJ,EAAOK,WAAa,2BAFpBL,EAAOK,WAAa,0BAM5BC,SAAU,SAACN,EAAQD,GACVD,GAAWC,EAAOO,WACnBN,EAAOM,SAAW,iCAK9BnB,OAAOD,KAAKa,GAAQQ,QAAQ,SAAAC,GACxBP,EAAMO,IAAQP,EAAMO,GAAKR,EAAQD,M,iDCnB1BU,G,cAXA,SAAAC,GACX,OACI,kBAAC,IAAD,iBAAgBA,EAAhB,CAAuBC,UAAWC,IAAWF,EAAMC,UAAW,SAAU,CACpE,gBAAgC,UAAfD,EAAMG,YCJpBC,G,OAFD,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUJ,EAAb,EAAaA,UAAb,OAA6B,yBAAKA,UAAWC,IAAW,QAASD,IAAaI,K,QCL7E,WAACC,EAAShB,EAAQQ,GAC7B,GAAIQ,EAAQR,GACR,OAAIR,EAAOQ,GACA,QAEA,W,2BCHJ,kBAAG1C,EAAH,EAAGA,KAAH,IAASf,YAAT,MAAgB,OAAhB,EAAwBkE,EAAxB,EAAwBA,MAAxB,IAA+BC,gBAA/B,MAA0C,EAA1C,SACXC,IAAapE,GAAM,CACfa,QAASqD,EACTG,YAAatD,EACboD,c,wEC2EOG,EAxEM,SAAC,GAGf,IAFHC,EAEE,EAFFA,MACAC,EACE,EADFA,KACE,EACgCC,oBAAS,GADzC,mBACMC,EADN,KACiBC,EADjB,OAEsCF,mBAAS,GAF/C,mBAEMG,EAFN,KAEmBC,EAFnB,OAGgCJ,mBAAS,GAHzC,mBAGMK,EAHN,KAGgBC,EAHhB,KAKIC,EAAYC,iBAAO,MAsCzB,OA5BAC,oBAAU,WACN,IAAMC,EAAeH,EAAUI,QAC3BD,IACAA,EAAaE,iBAAiB,UAAW,WACrCV,GAAW,KACZ,GAEHQ,EAAaE,iBAAiB,QAAS,WACnCV,GAAW,GACXI,EAAY,KACb,GAEHI,EAAaE,iBAAiB,QAAS,WACnCV,GAAW,KACZ,GAEHQ,EAAaE,iBAAiB,aAAc,WACxC,IAAMlB,EAAWgB,EAAahB,UAAY,EAC1CU,EAAeM,EAAaP,aAC5BG,EAAaI,EAAaP,YAAcT,EAAY,OACrD,GAEHgB,EAAaE,iBAAiB,aAAc,WACxCR,EAAeM,EAAahB,cAGrC,IAGC,yBAAKP,UAAU,kBACX,2BAAO0B,IAAKN,EAAWO,IAAKhB,EAAOiB,QAAQ,SAC3C,yBAAK5B,UAAU,0BACX6B,MAAO,CAACC,MAAOZ,EAAW,OAC9B,yBAAKlB,UAAU,uBACX,yBAAKA,UAAU,sBACX,4BAAQ+B,QA3CL,WACVjB,EAGDM,EAAUI,QAAQQ,QAFlBZ,EAAUI,QAAQS,SA0CJnB,EACE,yBAAKa,IAAKO,IAAUC,IAAI,eACtB,yBAAKR,IAAKS,IAASD,IAAI,gBAIrC,yBAAKnC,UAAU,uBACX,yBAAK2B,IAAKf,EAAOyB,IAAeC,IAASH,IAAI,eAEjD,0BAAMnC,UAAU,2BCxEjB,SAAAuC,GACX,IAAMC,EAAOC,KAAKC,MAAMH,EAAS,IAC3BI,GAAQJ,EAAS,IAAIK,UAC3B,MAAM,GAAN,OAAUJ,EAAO,GAAK,IAAM,IAA5B,OAAiCA,EAAjC,YAAyCG,EAAO,GAAK,IAAM,IAA3D,OAAgEA,GDsEhDE,CAAmB7B,O,mCEyBxB8B,G,OArFC,SAAC,GAWV,IAVHpF,EAUE,EAVFA,KACAP,EASE,EATFA,KACA4F,EAQE,EARFA,UACAnC,EAOE,EAPFA,KACAoC,EAME,EANFA,UACA9G,EAKE,EALFA,YACA+G,EAIE,EAJFA,QACAC,EAGE,EAHFA,SACAC,EAEE,EAFFA,gBACAC,EACE,EADFA,gBAEA,OACA,yBAAKpD,UAAWC,IAAW,UAAW,CAClC,gBAAsBW,EACtB,qBAAsBsC,EACtB,oBAAsBD,EACtB,iBAAsB/G,GAAsC,IAAvBA,EAAYmH,SAAiBlG,KAClE,yBAAK6C,UAAU,oBACX,kBAAC,EAAD,CAAaY,KAAMA,EAAMoC,UAAWA,IAClCpC,GACF,kBAAC,IAAD,CACI0C,QACI,yBAAKtD,UAAU,oBACX,kBAAC,IAAD,CAAQ+B,QAASoB,EAAiB/G,KAAK,UAAvC,WAGRmH,QAAQ,SACJ,yBAAKvD,UAAU,yBACX,kBAAC,IAAD,CAAQ5D,KAAK,OAAOoH,MAAM,SAASC,KAAK,eAGpD,yBAAKzD,UAAU,mBACX,kBAAC,GAAD,CAAQtC,KAAMA,KAElB,yBAAKsC,UAAU,mBACR9D,EAAYmH,QAAWnH,EAAYmH,OAAS,GAAKlG,GAAiC,IAAvBjB,EAAYmH,QAAgBlG,GAAS8F,IACnG,yBAAKjD,UAAU,mBACT7C,IAAS8F,GAAY,uBAAGjD,UAAU,iBAChC0D,IAAmBvG,EAAM,WAAY,SAACwG,GAAD,OAEjC,kBAAC,IAAD,CAAOC,MAAOD,EAAOE,IAAI,SAAS3D,KAAM,GAAIL,IAAK4C,KAAKqB,cAE7DZ,GAAY,yBAAKlD,UAAU,mBACxB,0BAAMA,UAAU,YAChB,0BAAMA,UAAU,YAChB,0BAAMA,UAAU,eAEnBiD,GAAW,kBAAC,EAAD,CACRtC,MAAOzE,EAAY,GAAG6H,IACtBnD,KAAMA,KAER1E,KAAiBA,EAAYmH,SAAWJ,GAC1C,yBAAKjD,UAAU,wBACV9D,EAAY2B,IAAI,SAAAmG,GAAI,OACjB,yBACInE,IAAK4C,KAAKqB,SACV9D,UAAU,6BACN,kBAAC,IAAD,CAAM5D,KAAK,QACX,yBACIuF,IAAKqC,EAAKD,IACVhC,QAAS,kBAAMqB,EAAgBY,EAAKD,MACpC5B,IAAK6B,EAAKC,eAIlC,0BAAMjE,UAAU,iBACZ,kBAAC,GAAD,CAAUkE,KAAMnB,U,kBCRrBoB,G,OA3CK,SAAC,GAAD,IAhBJC,EAiBZlH,EADgB,EAChBA,IACAQ,EAFgB,EAEhBA,KACAjB,EAHgB,EAGhBA,gBACAmE,EAJgB,EAIhBA,KACAyD,EALgB,EAKhBA,SACAC,EANgB,EAMhBA,YANgB,OAQZ,kBAAC,IAAD,CAAMC,GAAE,mBAAc7G,EAAKiC,SAAS9C,MAAM,KAAK2H,KAAK,OAChD,yBAAKxE,UAAWC,IAAW,gBAAiB,CACxC,wBAAyBvC,EAAK+G,SAC9B,0BAA2BhI,IAAoBS,IAE/C6E,QAASsC,EAASK,U,EAAWxH,IAC7B,yBAAK8C,UAAU,wBACX,kBAAC,GAAD,CAAQtC,KAAMA,KAElB,yBAAKsC,UAAU,yBACX,yBAAKA,UAAU,6BACX,2BAAItC,EAAKiC,UACT,0BAAMK,UAAU,+BApCxBoE,EAqCqBE,EAAYvB,UApC7CqB,EAAO,IAAIO,KAAKP,GAEZQ,YAAQR,GACDS,YACHT,EACA,SAGGS,YACHT,EACA,iBA6BQ,yBAAKpE,UAAU,gCACX,2BACKsE,EAAYnH,KAAOuG,IAAmBY,EAAYnH,KAAM,WAAY,SAACwG,GAAD,OACjE,kBAAC,IAAD,CAAOC,MAAOD,EAAO9D,IAAK8D,EAAQlB,KAAKqC,MAAsB,GAAhBrC,KAAKqB,UAAgBD,IAAI,SAAS3D,KAAM,OACvFoE,EAAYpI,YAAYmH,QAA6C,QAAnCiB,EAAYpI,YAAY,GAAG6I,IAC9D,8BAAM,kBAAC,IAAD,CAAM3I,KAAK,UAAjB,kBACE,8BAAM,kBAAC,IAAD,CAAMA,KAAK,eAAjB,WAENwE,GAAQ,kBAAC,EAAD,CAAaA,KAAMA,EAAMoC,UAAWsB,EAAYtB,YACvDsB,EAAYtB,UAAY,IAAMpC,GAC5B,yBAAKZ,UAAU,gDACVsE,EAAYtB,UAAY,EAAIsB,EAAYtB,UAAY,S,oCC3CtEgC,EAfK,SAAC,GAAD,IAAGpE,EAAH,EAAGA,KAAMoC,EAAT,EAASA,UAAT,OAEfpC,EACKoC,EAGE,yBAAKrB,IAAKsD,IAAe9C,IAAI,gBAAgBnC,UAAU,4BAFvD,yBAAK2B,IAAKuD,IAAa/C,IAAI,cAAcnC,UAAU,0BAGlD,I,UCEEmF,GAXE,SAAC,GAAD,IAAGjB,EAAH,EAAGA,KAAH,OACbA,EACK,kBAAC,WAAD,KACIkB,aAAoB,IAAIT,KAAMT,GAAQ,CAACmB,WAAW,KACxC,I,mBCmCRC,I,OAlCC,SAAC,GAAD,IACZrJ,EADY,EACZA,MACAsJ,EAFY,EAEZA,KACAC,EAHY,EAGZA,SACAC,EAJY,EAIZA,WACAhJ,EALY,EAKZA,gBACAiJ,EANY,EAMZA,eANY,OAQZ,yBAAK1F,UAAU,mBACX,yBAAKA,UAAU,wBACX,kBAAC,IAAM2F,OAAP,CACIC,YAAY,qBACZC,SAAU,SAAAzH,GAAC,OAAIoH,EAASpH,EAAE0H,OAAOC,QACjCA,MAAON,KAEf,yBAAKzF,UAAU,WACd/D,EAAMoH,OAAS2C,mBAAQ/J,EAAO,CAAC,CAACqI,YAAa,cAAe,CAAC,SAASzG,IAAI,SAAAmG,GAAI,OAC3E,kBAAC,EAAD,eACItG,KAAMsG,EAAKiC,OAAO/I,MAAQqI,EAAOvB,EAAKiC,OAASjC,EAAKkC,QACpDtF,KAAMoD,EAAKM,YAAY5G,KAAKR,MAAQqI,EACpClB,SAAUqB,EACV7F,IAAKmE,EAAK9G,KACN8G,EALR,CAMIM,YAAaN,EAAKM,YAClB7H,gBAAiBA,OACnB,kBAAC,KAAD,CAAO0J,MAAOC,KAAMC,6B,UCiBnBC,I,OA1CE,SAAC,GASX,IARHnD,EAQE,EARFA,gBACAoD,EAOE,EAPFA,QACAzJ,EAME,EANFA,UACAb,EAKE,EALFA,MACAsJ,EAIE,EAJFA,KACA7H,EAGE,EAHFA,KACA8I,EAEE,EAFFA,aACApD,EACE,EADFA,gBAEMqD,EAAsB,CAAC,MAAO,OAAQ,OAE5C,OAAQ,yBACJ/E,IAAK6E,EACLvG,UAAWC,IAAW,WAAY,CAC9B,oBAAqBnD,KAGrBA,IAAcY,EACb,kBAAC,IAAD,CAAMtB,KAAK,UAAUsK,MAAI,IACvBzK,GAAUA,EAAMoH,OAChB,yBAAKrD,UAAU,oBACb/D,EAAM4B,IAAI,SAAAmG,GAAI,OACX,kBAAC,EAAD,eACIf,UAAWe,EAAK9H,YAAYmH,QAAUoD,EAAoBE,SAAS3C,EAAK9H,YAAY,GAAG6I,KACvF5B,gBAAiBA,EAAgBuB,U,EAAWV,EAAK9G,KACjDkG,gBAAiBA,EACjBvD,IAAK4C,KAAKqB,UACNE,EALR,CAMIpD,KAAMoD,EAAKtG,KAAKR,MAAQqI,QATR,kBAAC,KAAD,CAAO9E,YAAY,kGAYvD,kBAAC,KAAD,CAAOmG,UAAWJ,EAAcK,SAAU,kBAAMzD,EAAgB,OAAO0D,OAAQ,MAC3E,yBAAKnF,IAAK6E,EAAc3E,MAAO,CAACC,MAAO,QAASK,IAAI,gB,SCpB7C4E,GAlBK,SAAC,GAGd,IAFHC,EAEE,EAFFA,SACAC,EACE,EADFA,UAEA,OACI,kBAAC,IAAD,CACIjH,UAAU,eACVM,MAAO0G,EACPzD,QAAQ,QACRqD,QAASK,EACTC,UAAU,SACV5D,QACI,kBAAC,IAAD,CAAQlH,KAAK,SAAS2F,QAAS,WAAOrF,OAAOW,aAAa8J,QAASzK,OAAOC,SAASyK,WAAnF,c,+jBCRhB,IAmDeC,GAnDA,SAAC,GAAqB,IAAnB3J,EAAkB,EAAlBA,KAAMmE,EAAY,EAAZA,MAAY,EAEUhB,oBAAS,GAFnB,mBAEzByG,EAFyB,KAEVC,EAFU,KAgBhC,GANAjG,oBAAU,WACN,IAAMkG,EAAcC,SAASC,cAAc,kBAEvCD,SAAShG,iBAAiB,QATP,SAACkG,EAAIvJ,GACvBuJ,IAAOA,EAAGC,SAASxJ,EAAE0H,SACtByB,GAAiB,IAOqC7C,U,EAAW8C,MAGrE9J,EAAKmK,OACL,OACI,kBAAC,WAAD,KACI,yBACIhG,MAAOA,EACPF,IAAKjE,EAAKmK,OACV1F,IAAG,UAAKzE,EAAKiC,SAAV,WACHoC,QAAS,kBAAMwF,GAAiB,MACpC,kBAAC,GAAD,CAAaP,SAAUtJ,EAAKiC,SAAUsH,UAAWK,KAIzD,IAAMQ,ECjCC,SAAAC,GAAS,IAAD,EACDA,EACbC,WACAC,QAAQ,GACRpL,MAAM,IACNgB,IAAI,SAAAqK,GAAI,OAAKA,EAAKC,WAAW,GAAK,IAAO,IAAMD,EAAKC,WAAW,KALjD,mBACZC,EADY,KACTC,EADS,KACNC,EADM,KAMbR,EAAQS,IAAU,CAACH,IAAGC,IAAGC,MAE/B,MAAO,CACHR,MAAOA,EACFU,QAAQ,IACRC,SAAS,IACTC,cACLC,aAAcb,EACTU,QAAQ,IACRC,SAAS,IACTC,eDiBSE,CAAuBlL,EAAKR,KACtC2L,EAAkBnL,EAAKiC,SAAS,GAEpC,OACI,kBAAC,WAAD,KACI,yBAAKK,UAAU,uBACX6B,MAAK,MACEA,EADF,CAEDiH,WAAW,2BAAD,OAA6BhB,EAAMA,MAAnC,aAA6CA,EAAMa,aAAnD,WAEd5G,QAAS,kBAAMwF,GAAiB,KAC9BsB,GAEN,kBAAC,GAAD,CAAa7B,SAAUtJ,EAAKiC,SAAUsH,UAAWK,M,UEvCzDyB,I,OAAaC,IAAbD,UA6EOE,GA3EG,SAAC,GAaZ,IAZHC,EAYE,EAZFA,eACAC,EAWE,EAXFA,iBACAC,EAUE,EAVFA,SACArD,EASE,EATFA,MACAsD,EAQE,EARFA,kBACAC,EAOE,EAPFA,kBACAC,EAME,EANFA,iBACArN,EAKE,EALFA,YACAsN,EAIE,EAJFA,iBACAC,EAGE,EAHFA,YACAC,EAEE,EAFFA,SACAC,EACE,EADFA,gBAEA,OACQ,yBAAK3J,UAAU,cACX,6BACI,yBAAKA,UAAU,uBACX,yBAAKA,UAAWC,IAAW,2BAA4B,CACnD,oCAAqCkJ,KAErC,kBAAC,IAAD,CAAQtF,IAAI,SAAShC,MAAO,CAACC,MAAO,KAAMuC,SAAU,SAACT,GAAD,OAAWyF,EAAkBzF,OAErF,kBAAC,IAAD,CACI7B,QAASmH,EACT9M,KAAK,OACLoH,MAAM,SACNxD,UAAU,wBACVyD,KAAK,UAET,kBAAC,eAAD,CACImG,QAASL,EACTM,eAAgB,CACZ7J,UAAW,oCAEf8J,YAAa,CACTC,OAAQ,kCACRC,SAAU,aAEd,kBAAC,IAAD,CACI5N,KAAK,OACLoH,MAAM,SACNC,KAAK,cAGfgG,GACF,kBAACV,GAAD,CACIlH,MAAO,CAACoI,OAAQ,IAChBC,SAAU,CAAEC,QAASzN,OAAO0N,YAAc,IAAM,EAAI,GACpDvE,SAAW,SAAAzH,GAAC,OAAIgL,EAAShL,EAAE0H,OAAOC,QAClCsE,QAAUf,EACV1D,YAAY,qBACZG,MAAQA,IACV0D,GACE,yBAAKzJ,UAAU,6BACX,uBAAGA,UAAU,gBACb,2CACA,kBAAC,IAAD,CAAM5D,KAAK,QAAQ2F,QAAS4H,KAE/BF,GAAe1D,GAAU7J,GAAeA,EAAYmH,OACrD,kBAAC,IAAD,CAAQjH,KAAK,OAAOoH,MAAM,SAASC,KAAK,eAAe1B,QAASuH,IAC7D,yBAAKtJ,UAAU,0BACV,kBAAC,IAAD,CACI5D,KAAK,OACLoH,MAAM,SACNC,KAAK,QACL1B,QAAS2H,MAG7B,yBAAK1J,UAAU,0BACX,kBAAC,GAAD,CAAe9D,YAAaA,EAAasN,iBAAkBA,OChEhEc,I,OAbA,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQ5K,EAAX,EAAWA,SAAUiB,EAArB,EAAqBA,KAArB,OACX,yBAAKZ,UAAU,4BACX,uBAAGA,UAAU,yBAAyBL,IACpCiB,GACF,0BAAMZ,UAAWC,IAAW,SAAU,CAClC,iBAAkBsK,KAEjBA,EAAS,SAAU,c,8BCVhCC,KAAMC,SAASC,QAAUhO,OAAOC,SAASgO,OACzCH,KAAMC,SAASG,QAAQC,OAAvB,MAAyCnO,OAAOW,aAAaC,MAE7DZ,OAAO8N,MAAQA,KAEAA,UAAf,E,UCHeM,G,OAFCC,GAASrO,OAAOC,SAASgO,OAAOK,QAAQ,iBAAkB,4BCQ3DC,GARI,CACfC,OAAQ,kBAAMV,GAAMW,IAAI,aACxBC,OAAQ,gBAAEC,EAAF,EAAEA,UAAWlO,EAAb,EAAaA,KAAb,OAAuBqN,GAAMc,KAAK,WAAY,CAClDpF,QAASmF,EACTlO,KAAMA,MCMCoO,GAVK,CAChBC,cAAe,SAAAC,GAAQ,OAAIjB,GAAMW,IAAN,oBAAuBM,KAClDC,KAAM,gBAAEvO,EAAF,EAAEA,KAAMsO,EAAR,EAAQA,SAAR,IAAkBvP,mBAAlB,MAAgC,GAAhC,SAAwCsO,GAAMc,KAAN,YAAwB,CAClEnO,KAAMA,EACNwO,OAAQF,EACRvP,iBAEJ0P,WAAY,SAAA5N,GAAE,OAAIwM,GAAMqB,OAAN,oBAA0B7N,MCCjC8N,GARC,CACZC,MAAO,SAAAC,GAAQ,OAAIxB,GAAMc,KAAK,cAAeU,IAC7CC,MAAO,kBAAMzB,GAAMW,IAAI,aACvBe,WAAY,SAAAnE,GAAI,OAAIyC,GAAMW,IAAN,4BAA+BpD,KACnDoE,SAAU,SAAAH,GAAQ,OAAIxB,GAAMc,KAAK,iBAAkBU,IACnDI,UAAW,SAAAC,GAAK,OAAI7B,GAAMW,IAAN,2BAA8BkB,MCSvCC,GAdG,CACdC,OAAQ,SAAAhQ,GACJ,IAAMiQ,EAAW,IAAIC,SAIrB,OAFAD,EAASE,OAAO,OAAQnQ,GACxBoQ,QAAQC,IAAIrQ,GACLiO,GAAMc,KAAK,SAAUkB,EAAU,CAClC5B,QAAS,CACL,eAAgB,2BC8CjBiC,GAlDK,SAAC,GAA2B,IAAzBlQ,EAAwB,EAAxBA,SAAUmQ,EAAc,EAAdA,QAAc,EACXjM,oBAAS,GADE,mBACpCkM,EADoC,KAC1BC,EAD0B,OAEHnM,mBAAS,IAFN,mBAEtCoM,EAFsC,KAEvBC,EAFuB,OAGjBrM,mBAAS,WAHQ,mBAGtCsM,EAHsC,KAG9BC,EAH8B,KA6B3C,OAxBA9L,oBAAU,WACN,IAAMyG,EAAOpL,EAAS0Q,OAAOxQ,MAAM,SAAS,GAExCkL,GACA+D,GACCI,WAAWnE,GACXuF,KAAK,YAAe,IAAZ9P,EAAW,EAAXA,KACL4P,EAAU5P,EAAK2P,QAEK,YAAhB3P,EAAK2P,QACLH,GAAY,GAGhBE,EAAiB1P,EAAKP,WAEzBsQ,MAAM,WACHP,GAAY,GACZI,EAAU,SAEVF,EAAiB,0BAMzB,kBAAC,EAAD,CAAOlN,UAAW,gBACd,kBAAC,KAAD,CACImN,OAAQA,EACR7M,MAAO6M,EAAOK,cACdC,SACe,YAAXN,GAAyBJ,EAEvBE,EADF,iDAGJS,MACe,YAAXP,GAAwBJ,GACpB,kBAAC,IAAD,CACIhL,QAAS,WAAO+K,EAAQa,KAAK,WAC7BvR,KAAK,WAFT,a,UC7ClBwR,GAAU,CACZC,WAAY,SAAA5R,GAAK,MAAK,CAClBG,KAAM,oBACNC,QAASJ,IAEb6R,mBAAoB,SAAA9P,GAIhB,OAHItB,OAAO0N,YAAc,MACrB3C,SAASC,cAAc,SAAS7F,MAAMkM,UAAY,oBAE/C,CACH3R,KAAM,gCACNC,QAAS2B,IAGjBgQ,aAAc,kBAAM,SAAAC,GAChBhD,GAAWC,SAASoC,KAAK,YAAe,IAAZ9P,EAAW,EAAXA,KACxByQ,EAASL,GAAQC,WAAWrQ,SAKzBoQ,MCrBTM,GAAkB,CACpBC,YAAa,SAAAlS,GAAK,MAAK,CACnBG,KAAM,qBACNC,QAASJ,IAEbmS,WAAY,SAAAnR,GAAO,OAAI,SAACgR,EAAUI,GACVA,IAAZtR,QACEN,kBAEcQ,EAAQ0O,OAAOzO,KACnC+Q,EAAS,CACL7R,KAAM,uBACNC,QAASY,MAIrBqR,aAAc,SAAAC,GAAI,MAAK,CACnBnS,KAAM,0BACNC,QAASkS,IAEbC,kBAAmB,SAAAC,GAAS,OAAI,SAAAR,GAC5BtB,QAAQC,IAAR,8BAAmC6B,IACnClD,GACKK,WAAW6C,GACXnB,KAAK,WACFW,EAAS,CACL7R,KAAM,0BACNC,QAASoS,MAGhBlB,MAAM,WACHU,EAASC,GAAgBI,cAAa,QAGlDI,iBAAkB,gBAAEvR,EAAF,EAAEA,KAAMsO,EAAR,EAAQA,SAAUvP,EAAlB,EAAkBA,YAAlB,OAAmC,SAAA+R,GACjD1C,GAAYG,KAAK,CACbvO,OACAsO,WACAvP,kBAGRyS,cAAe,SAAAlD,GAAQ,OAAI,SAAAwC,GACvBA,EAASC,GAAgBI,cAAa,IAEtC/C,GACKC,cAAcC,GACd6B,KAAK,YAAa,IAAX9P,EAAU,EAAVA,KACJyQ,EAASC,GAAgBC,YAAY3Q,MAExC+P,MAAM,WACHU,EAASC,GAAgBI,cAAa,SAKvCJ,MCtDTN,GAAU,CACZgB,YAAa,SAAApR,GAAI,MAAK,CAClBpB,KAAM,gBACNC,QAASmB,IAEbqR,YAAa,SAAAN,GAAI,MAAK,CAClBnS,KAAM,qBACNC,QAASkS,IAEbO,cAAe,kBAAM,SAAAb,GACjBnC,GACKG,QACAqB,KAAK,YAAe,IAAZ9P,EAAW,EAAXA,KACLyQ,EAASL,GAAQgB,YAAYpR,MAEhC+P,MAAM,WACHU,EAASL,GAAQiB,aAAY,WACtBnS,OAAOW,aAAaC,UAGvCyR,kBAAmB,SAAA/C,GAAQ,OAAI,SAAAiC,GAC3B,OAAOnC,GAAQK,SAASH,KAE5BgD,eAAgB,SAAAhD,GAAQ,OAAI,SAAAiC,GACxB,OAAOnC,GACMC,MAAMC,GACNsB,KAAK,YAAe,IAAZ9P,EAAW,EAAXA,KACGF,EAAUE,EAAVF,MAcR,OAZA2Q,EAASL,GAAQgB,YAAYpR,IAE7ByR,EAAiB,CACb3O,MAAO,UACPlE,KAAM,YAGVM,OAAO8N,MAAMC,SAASG,QAAQC,OAA9B,MAAgDvN,EAChDZ,OAAOW,aAAP,MAA+BC,EAC/B2Q,EAASL,GAAQkB,iBACjBb,EAASL,GAAQiB,aAAY,IAEtBrR,IAEV+P,MAAM,WACH0B,EAAiB,CACb3O,MAAO,eACPnD,KAAM,6BACNf,KAAM,eAMnBwR,MC7CAA,GAXC,CACZsB,eAAgB,SAAAjT,GAAK,MAAK,CACtBG,KAAM,wBACNC,QAASJ,IAEbuN,iBAAkB,SAAAjN,GAAI,MAAK,CACvBH,KAAM,0BACNC,QAASE,KCwDF4S,eACX,qBAAGpS,SACHqS,GAFWD,CAxDC,SAAC,GAKD,IAJZnB,EAIW,EAJXA,aACAvR,EAGW,EAHXA,gBACAqR,EAEW,EAFXA,mBACA7R,EACW,EADXA,MACAsJ,EAAW,EAAXA,KAAW,EACoB1E,mBAAS,IAD7B,mBACJ4E,EADI,KACQ2D,EADR,OAEoBvI,mBAASwO,MAAMC,KAAKrT,IAFxC,mBAENsT,EAFM,KAEIC,EAFJ,KAwCX,OAhBAlO,oBAAU,WACDrF,EAAMoH,OAGPmM,EAAYvT,GAFZ+R,KAIL,CAAC/R,EAAO+R,IAEXyB,GAAOC,GAAG,wBAAyB,WAC/B1B,MAGJyB,GAAOC,GAAG,uBAAwB,WAC9B1B,MAIA,kBAAC,GAAD,CACIzI,KAAMA,EACNtJ,MAAOsT,EACP/J,SAxCc,WAAiB,IAAhBO,EAAe,uDAAP,GAC3ByJ,EACIvT,EAAMK,OACF,SAAAqP,GASI,OANIA,EAAO1F,OAAO/I,MAAQqI,EACfoG,EAAOzF,QAEPyF,EAAO1F,QAGNtG,SAASgQ,cAAcC,QAAQ7J,EAAM4J,gBAAkB,KAK/EvG,EAASrD,IAwBLN,WAAYA,EACZC,eAAgBoI,EAChBrR,gBAAiBA,MCFd0S,eACX,gBAAGpS,EAAH,EAAGA,QAASW,EAAZ,EAAYA,KAAMV,EAAlB,EAAkBA,SAAlB,MAAkC,CAC9BP,gBAAiBM,EAAQN,gBACzBR,MAAOe,EAASf,MAChBa,UAAWE,EAASF,UACpBY,KAAMA,EAAKF,OAEf0Q,GAPWiB,CAlDE,SAAC,GAUX,IATHlT,EASE,EATFA,MACA0S,EAQE,EARFA,cACAlS,EAOE,EAPFA,gBACA+R,EAME,EANFA,kBAEAJ,GAIE,EALFyB,mBAKE,EAJFzB,YACAtR,EAGE,EAHFA,UACAyI,EAEE,EAFFA,KACA7H,EACE,EADFA,KAEMoS,EAAczO,iBAAO,MADzB,EAGsCR,mBAAS,MAH/C,mBAGK2F,EAHL,KAGmBpD,EAHnB,KAMI2M,EAAiB,SAAAvS,GACnB4Q,EAAW5Q,IAmBf,OAhBA8D,oBAAU,WAON,OANI7E,GACAkS,EAAclS,GAGlBgT,GAAOC,GAAG,uBAAwBK,GAE3B,WACHN,GAAOO,eAAe,uBAAwBD,KAEnD,CAACtT,IAEJ6E,oBAAU,WACNwO,EAAYtO,QAAQyO,UAAYH,EAAYtO,QAAQ0O,cACrD,CAACjU,IAGA,kBAAC,GAAD,CACIyB,KAAMA,EACNyF,gBAAiBqL,EACjBjJ,KAAMA,EACNgB,QAASuJ,EACThT,UAAWA,EACXb,MAAOA,EACPmH,gBAAiBA,EACjBoD,aAAcA,M,qQC7C1B,IA0Ke2I,eACX,kBAA6B,CACzBpS,QADJ,EAAEA,QAEEb,YAFJ,EAAWA,YAEkBD,Q,wVAHX,IAKdiS,GALc,GAKMiC,IALbhB,CA1KG,SAAC,GAMZ,IALHT,EAKE,EALFA,iBACAQ,EAIE,EAJFA,eACA1F,EAGE,EAHFA,iBACW/M,EAET,EAFFM,QAAWN,gBACXP,EACE,EADFA,YAEAQ,OAAO0T,UAAUC,aAAgB3T,OAAO0T,UAAUC,cAC9C3T,OAAO0T,UAAUE,iBACjB5T,OAAO0T,UAAUG,gBACjB7T,OAAO0T,UAAUI,mBAJnB,MAMwB3P,mBAAS,IANjC,mBAMKkF,EANL,KAMYqD,EANZ,OAO4CvI,oBAAS,GAPrD,mBAOGsI,EAPH,KAOqBsH,EAPrB,OAQkC5P,oBAAS,GAR3C,mBAQG4I,EARH,KAQgBiH,EARhB,OASsC7P,mBAAS,MAT/C,mBASG8P,EATH,KASkBC,EATlB,KAkDIC,EAAqB,SAAClJ,EAAIvJ,GACxBuJ,KAAQA,EAAGC,SAASxJ,EAAE0H,SAAW1H,EAAE0H,OAAOgL,QAAQ,8BAAgC1S,EAAE0H,OAAOiL,UAAUnJ,SAAS,2BAC9G6I,GAAoB,IAetBO,EAAc,SAAAC,GAChB,IAAMC,EAAY,IAAIC,cAAcF,GACpCL,EAAiBM,GAEjBA,EAASE,QAETF,EAASG,QAAU,WACfX,GAAe,IAGnBQ,EAASI,OAAS,WACdZ,GAAe,IAGnBQ,EAASK,gBAAkB,SAAAnT,GACvB,IAAMoT,EAAY,IAAIC,KAAK,CAACrT,EAAEZ,MAAO,YAAa,CAACpB,KAAM,cACzDkQ,GAAUC,OAAOiF,GAAWlE,KAAK,YAAe,IA7CtCoE,EA6C0BlU,EAAW,EAAXA,KA7C1BkU,EA8CIlU,EAAKjB,KAAKW,IA7C5BwR,EAAiB,CACbvR,KAAM4I,EACN0F,SAAUhP,EACVP,YAAa,CAACwV,SA+ChBC,EAAU,SAAAC,GACZjF,QAAQC,IAAI,UAAYgF,IAGtBrI,EAAgB,wCAAG,WAAMsI,GAAN,4BAAAC,EAAA,qDACjBC,EAAW7V,EADM,iCAAA4V,EAAA,oCAAAA,EAAA,4DAEVvV,EAFU,QAGXC,EAAMiG,KAAKqC,MAAsB,IAAhBrC,KAAKqB,UAE5BiO,EAAQ,uBACDA,GADC,CAEJ,CACIvV,IAAKA,EACLwV,KAAMzV,EAAKyV,KACX7E,OAAQ,eAGhB+B,EAAe6C,GAbE,SAeXzF,GACDC,OAAOhQ,GACP+Q,KAAK,YAAe,IAAZ9P,EAAW,EAAXA,KACLuU,EAAWA,EAASlU,IAAI,SAAAmG,GACpB,OAAIA,EAAKxH,MAAQA,EACN,CACH2Q,OAAQ,OACR3Q,IAAKgB,EAAKjB,KAAKW,IACf8U,KAAMxU,EAAKjB,KAAK0H,SAChBF,IAAKvG,EAAKjB,KAAKwH,KAGhBC,MAGduJ,MAAM,WACH,MAAO,CACHJ,OAAQ,WAhCH,0CAEF0E,EAFE,iXAoCrB3C,EAAe6C,GApCM,0EAAH,sDAiDtB,OAVAzQ,oBAAU,WACN,IAAM2Q,EAAiBxK,SAASC,cAAc,0BAI9C,OAFAD,SAAShG,iBAAiB,QAASoP,EAAmBnM,U,EAAWuN,IAE1D,WACHxK,SAAShG,iBAAiB,QAASoP,EAAmBnM,U,EAAWuN,OAIpExV,EAKD,kBAAC,GAAD,CACIyM,eAzIe,WACnBuH,GAAqBtH,IAyIjBA,iBAAkBA,EAClBC,SAAUA,EACVrD,MAAOA,EACPsD,kBA1GkB,SAAC,GAAgB,IAAd6I,EAAa,EAAbA,OACzB9I,GAAUrD,EAAQ,IAAMmM,GAAQC,SA0G5B7I,kBA1IkB,SAAClL,GACL,KAAdA,EAAEgU,SAA6B,UAAXhU,EAAEhC,OACtBgC,EAAEiU,iBAEE1B,GAAeA,EAAc2B,OAE7BpW,GAAeA,EAAYmH,QAC3BqL,EAAiB,CACbvR,KAAM4I,EACN0F,SAAUhP,EACVP,YAAaA,EAAY2B,IAAI,SAAAmG,GAAI,OAAIA,EAAKxH,QAC9C0S,EAAe,KACRnJ,GACP2I,EAAiB,CACbvR,KAAM4I,EACN0F,SAAUhP,IAGlB2M,EAAS,IACTsH,GAAe,KAwHfnH,iBAAkBA,EAClBrN,YAAaA,EACbsN,iBAAkBA,EAClBC,YAAaA,EACbC,SAtGS,WACT0G,UAAUC,cACVD,UAAUC,aAAa,CAAE1P,OAAO,GAAQqQ,EAAaW,IAqGrDhI,gBAjGgB,WACpBgH,EAAc2B,OACd5B,GAAe,MA+ER,OC3HAvB,eACX,gBAAGpS,EAAH,EAAGA,QAASW,EAAZ,EAAYA,KAAZ,MAAwB,CACpBjB,gBAAiBM,EAAQN,gBACzBM,QAASA,EAAQd,MACjByB,KAAMA,EAAKF,OAJJ2R,CA5BA,SAAC,GAAwC,IAAtC1S,EAAqC,EAArCA,gBAAiBiB,EAAoB,EAApBA,KAAMX,EAAc,EAAdA,QAC/BwV,EAAgBxV,EAAQT,OAAO,SAAAqP,GAAM,OAAIA,EAAOzO,MAAQT,IAAiB,GAE/E,IAAKM,EAAQsG,SAAW5G,EACpB,OAASiB,GACL,kBAAC,GAAD,CACIiC,SAAUjC,EAAKiC,SACfiB,MAAI,IAKhB,IAAIsF,EAAU,GAQd,OALIA,EADAqM,EAActM,OAAO/I,MAAQQ,EAAKR,IACxBqV,EAAcrM,QAEdqM,EAActM,OAIxB,kBAAC,GAAD,CACItG,SAAUuG,EAAQvG,SAClB4K,OAAQrE,EAAQzB,aC6Db0K,eAAQ,kBAAe,CAACzR,KAAhB,EAAGA,KAAwBF,OAAQ4R,GAA3CD,CAhFC,SAAC,GAGV,IAFHzR,EAEE,EAFFA,KACAwN,EACE,EADFA,OACE,EACwCrK,oBAAS,GADjD,mBACKoG,EADL,KACgBuL,EADhB,OAEwC3R,mBAAS,IAFjD,mBAEG4E,EAFH,KAEegN,EAFf,OAGwC5R,mBAAS,IAHjD,mBAGG6R,EAHH,KAGUC,EAHV,OAIwC9R,oBAAS,GAJjD,mBAIG+R,EAJH,KAIgBC,EAJhB,OAKwChS,mBAAS,IALjD,mBAKGiS,EALH,KAKmBC,EALnB,OAMwClS,mBAAS,IANjD,mBAMGmS,EANH,KAMgBC,EANhB,KAYIC,EAAc,WAChBV,GAAa,IA6CjB,OACI,kBAAC,GAAD,CACI9U,KAAMA,EACNyV,OArDW,WACfX,GAAa,IAqDTY,QAASF,EACTjM,UAAWA,EACX2L,YAAaA,EACbnN,WAAYA,EACZ4N,UA1Ca,WACjBpI,GACKG,OAAO,CACJC,UAAWyH,EACX3V,KAAM6V,IAET1F,KAAK,WACF4F,IACAL,GAAe,GACfpD,GAAOC,GAAG,yBAA0BxE,KAEvCqC,MAAM,WACHsF,GAAe,MA+BnBS,cAnDuB,SAAAvN,GAC3B0M,EAAc1M,IAmDVP,SAxBS,SAAAO,GACb8M,GAAe,GACf/G,GACKM,UAAUrG,GACVuH,KAAK,YAAe,IAAZ9P,EAAW,EAAXA,KACLmP,QAAQC,IAAIpP,GACZqV,GAAe,GACfF,EAASnV,KAEZ+P,MAAM,WACHsF,GAAe,MAenBU,aAjDa,SAAAC,GACjBT,EAAkBS,IAiDdC,iBA9BiB,SAAArV,GACrB6U,EAAe7U,EAAE0H,OAAOC,QA8BpB2M,MAAOA,EACPM,YAAaA,M,qBC7EjBU,GAAWC,KAAXD,OACA3K,GAAaC,IAAbD,SAEF6K,GAAU,SAAC,GAcV,IAbHlB,EAaE,EAbFA,MACAhV,EAYE,EAZFA,KACAuJ,EAWE,EAXFA,UACAkM,EAUE,EAVFA,OACAC,EASE,EATFA,QACAE,EAQE,EARFA,cACAC,EAOE,EAPFA,aACA9N,EAME,EANFA,WACAmN,EAKE,EALFA,YACApN,EAIE,EAJFA,SACA6N,EAGE,EAHFA,UACAI,EAEE,EAFFA,iBACAT,EACE,EADFA,YAEMa,EAAUnB,EAAM7U,IAAI,SAAAH,GAAI,OAAI,kBAACgW,GAAD,CAAQ7T,IAAKnC,EAAKR,IAAK2E,MAAO,CAACiS,QAAS,OAAQC,WAAY,WACzFrW,EAAKiC,SACN,0BAAMkC,MAAO,CACTiG,MAAO,YACPkM,WAAY,IAEXtW,EAAK6B,UAId,OACA,yBAAKS,UAAU,iBACX,yBAAKA,UAAU,wBACX,6BACI,yBAAKA,UAAU,qBAAqB2B,IAAKsS,KAAM9R,IAAI,SACnD,0BAAMnC,UAAU,sBAAhB,aACc,0BAAMA,UAAU,yBAAhB,YAGlB,kBAAC,IAAD,CACI+B,QAASoR,EACT/W,KAAK,OACLoH,MAAM,SACNC,KAAK,OACL5B,MAAO,CAACiG,MAAO,uBACnB,kBAAC,KAAD,CACIlB,QAASK,EACT3G,MAAM,mBACN8S,QAASA,EACTtM,OAAQ,CACJ,kBAAC,IAAD,CAAQjH,IAAI,OAAOkC,QAASqR,GAA5B,UAGA,kBAAC,IAAD,CACIc,UAAWlB,EACXnT,IAAI,SACJzD,KAAK,UACL+X,QAASvB,EACT7Q,QAASsR,GALb,YASJ,kBAAC,IAAD,KACI,kBAAC,IAAKe,KAAN,CAAWC,MAAO,8BACd,kBAAC,KAAD,CACItO,MAAON,EACPI,SAAUyN,EACV9N,SAAUA,EACVnB,SAAUkP,EACV1R,MAAO,CAACC,MAAO,QACf8D,YAAY,6BACZ0O,gBAAgB,kBAChBC,0BAA0B,EAC1BC,WAAW,EACXC,cAAc,EACdC,YAAU,GACTb,IAGT,kBAAC,IAAKO,KAAN,CAAWC,MAAO,sBACd,kBAAC,GAAD,CACIxS,MAAO,CAAC8S,UAAW,IACnB9O,SAAU4N,EACV1N,MAAOiN,EACPpN,YAAY,0BACZsE,SAAU,CACN0K,QAAS,EACTzK,QAAS,SAOjC,yBAAKnK,UAAU,yBACf,kBAAC,GAAD,CACIuF,KAAM7H,GAAQA,EAAKR,SAM/B0W,GAAQiB,aAAe,CACnBnC,MAAO,IAGIkB,U,kkBC5Gf,SAASkB,GAAUvY,GACf,OAAO,IAAIwY,QAAQ,SAACtW,EAASuW,GACzB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAc5Y,GACrB0Y,EAAOG,OAAS,kBAAM3W,EAAQwW,EAAOI,SACrCJ,EAAOK,QAAU,SAAAC,GAAK,OAAIP,EAAOO,MAIzC,IA+CeC,GA/CO,SAAC,GAAuC,IAArCtZ,EAAoC,EAApCA,YAAasN,EAAuB,EAAvBA,iBAAuB,EAC/B3I,mBAAS,CAC/B4U,gBAAgB,EAChBjP,aAAc,GACdkP,SAAUxZ,IAJ2C,mBAClDC,EADkD,KAC3CwZ,EAD2C,KAOzDrU,oBAAU,WACNqU,EAAS,MACFxZ,EADC,CAEJuZ,SAAUxZ,MAEf,CAACA,IAEJ,IAEM0Z,EAAa,wCAAG,WAAMrZ,GAAN,UAAAuV,EAAA,wDAClBnF,QAAQC,IAAIrQ,GACPA,EAAKwH,KAAQxH,EAAKsZ,QAFL,gCAGOf,GAAUvY,EAAKuZ,iBAHtB,OAGdvZ,EAAKsZ,QAHS,cAMlBF,EAAS,MACFxZ,EADC,CAEJqK,aAAcjK,EAAKwH,KAAOxH,EAAKsZ,QAC/BJ,gBAAgB,KATF,yCAAH,sDAenB,OACI,yBAAKzV,UAAU,YACX,kBAAC,KAAD,CACI+V,OAAO,mDACPC,SAAS,eACTN,SAAUvZ,EAAMuZ,SAChBO,UAAWL,EACX/P,SATS,SAAC,GAAD,IAAG6P,EAAH,EAAGA,SAAH,OAAkBC,EAAS,CAAED,cAUtCQ,SAAU,SAAA3Z,GAAI,OAAIiN,EAAiBjN,MACvC,kBAAC,KAAD,CAAOqK,QAASzK,EAAMsZ,eAAgB3O,OAAQ,KAAMD,SA1BvC,kBAAM8O,EAAS,MAAIxZ,EAAL,CAAYsZ,gBAAgB,OA2BnD,yBAAKtT,IAAI,UAAUN,MAAO,CAAEC,MAAO,QAAUH,IAAKxF,EAAMqK,kBCxCzD2P,GAVM,WAKjB,OACI,kBAAC,IAAD,CAAQ/Z,KAAK,OAAOoH,MAAM,SAASC,KAAK,OAAO1B,QAL/B,WAChB0F,SAASC,cAAc,SAAS7F,MAAMkM,UAAY,iBAImBlM,MAAO,CAACiG,MAAO,OAAQsO,SAAU,OCyE/FC,GA3EG,SAAAtW,GAAU,IAEpBX,EAQAW,EARAX,OACAiB,EAOAN,EAPAM,QACAhB,EAMAU,EANAV,OACAiX,EAKAvW,EALAuW,aACAC,EAIAxW,EAJAwW,WACAC,EAGAzW,EAHAyW,aACAC,EAEA1W,EAFA0W,QACAC,EACA3W,EADA2W,aAGJ,OACI,6BACI,yBAAK1W,UAAU,aACX,6CACA,yDAEJ,kBAAC,EAAD,KACI,kBAAC,IAAD,CAAMA,UAAU,cACZ,kBAAC,IAAKoU,KAAN,CACIuC,eACIC,EAAcvW,EAAShB,EAAQ,SAEnCwX,KACKxW,EAAQd,OAAaF,EAAOE,OAAZ,IAErB,kBAAC,IAAD,CACIvB,GAAG,QACHkC,KAAK,QACL4W,OAAQ,kBAAC,IAAD,CAAM1a,KAAK,OAAOyF,MAAO,CAACiG,MAAO,qBACzClC,YAAY,SACZxG,OAAQA,EAAOG,MACfsG,SAAUyQ,EACVS,OAAQR,KAEhB,kBAAC,IAAKnC,KAAN,CACIuC,eACIC,EAAcvW,EAAShB,EAAQ,YAEnCwX,KAAOxW,EAAQZ,UAAgBJ,EAAOI,UAAZ,IAC1B,kBAAC,IAAD,CACIzB,GAAG,WACHkC,KAAK,QACL4W,OAAQ,kBAAC,IAAD,CAAM1a,KAAK,OAAOyF,MAAO,CAACiG,MAAO,qBACzC1L,KAAK,WACLwJ,YAAY,WACZG,MAAO3G,EAAOK,SACdoG,SAAUyQ,EACVS,OAAQR,KAEhB,kBAAC,IAAKnC,KAAN,KACKsC,IAAiBD,GAAW,wCAC7B,kBAAC,EAAD,CACQvC,SAAUwC,EACV3U,QAASyU,EACTtW,KAAK,QACL9D,KAAK,UACL4a,SAAS,SACThX,UAAU,4BANlB,WAUJ,kBAAC,IAAKoU,KAAN,KACI,kBAAC,IAAD,CAAM7P,GAAG,WACLvE,UAAU,uBADd,iBCrETqW,GCMYY,YAAW,CAClCC,iBAAkB,iBAAO,CACrB3X,MAAO,GACPE,SAAU,KAEd0X,SAAU,SAAA/X,GACN,IAAIC,EAAS,GAIb,OAFA+X,EAAa,CAAEjY,QAAQ,EAAMC,OAAQA,EAAQC,OAAQA,IAE9CA,GAEXmX,aAAc,SAACpX,EAAD,GAAuC,IAA5BiY,EAA2B,EAA3BA,cAAetX,EAAY,EAAZA,MACpChB,EAAMkP,SAASqJ,GACVtI,eAAe5P,IACfkO,KAAK,YACa,YADG,EAAbH,QAEDpN,EAAM+M,QAAQa,KAAK,KAEvB0J,GAAc,KAEjB9J,MAAM,kBAAM8J,GAAc,MAEnCE,YAAa,aAvBUN,CAwBxBZ,ICsFYmB,GA/GM,SAAAzX,GACjB,IAGIX,EAOAW,EAPAX,OACAiB,EAMAN,EANAM,QACAhB,EAKAU,EALAV,OACAiX,EAIAvW,EAJAuW,aACAC,EAGAxW,EAHAwW,WACAC,EAEAzW,EAFAyW,aACAE,EACA3W,EADA2W,aAGJ,OACI,6BACI,yBAAK1W,UAAU,aACX,oDACA,2DAEJ,kBAAC,EAAD,KAEI,kBAAC,IAAD,CAAMA,UAAU,iBACZ,kBAAC,IAAKoU,KAAN,CACIuC,eACIC,EAAcvW,EAAShB,EAAQ,SAEnCoY,aAAW,EACXZ,KAAOxW,EAAQd,OAAaF,EAAOE,OAAZ,IACvB,kBAAC,IAAD,CACIvB,GAAG,QACHkC,KAAK,QACL4W,OAAQ,kBAAC,IAAD,CAAM1a,KAAK,OAAOyF,MAAO,CAACiG,MAAO,wBACzClC,YAAY,QACZG,MAAO3G,EAAOG,MACdsG,SAAUyQ,EACVS,OAAQR,KAEhB,kBAAC,IAAKnC,KAAN,KACI,kBAAC,IAAD,CACIlU,KAAK,QACLlC,GAAG,WACH+H,MAAO3G,EAAOO,SACdkG,SAAUyQ,EACVQ,OAAQ,kBAAC,IAAD,CAAM1a,KAAK,OAAOyF,MAAO,CAACiG,MAAO,qBACzClC,YAAY,cAEpB,kBAAC,IAAKwO,KAAN,CACIuC,eACKtW,EAAQZ,SAAgBJ,EAAOI,SAAW,QAAU,UAAjC,GAExBgY,aAAW,EACXZ,KAAOxW,EAAQZ,UAAgBJ,EAAOI,UAAZ,IAC1B,kBAAC,IAAD,CACIzB,GAAG,WACHkC,KAAK,QACL4W,OAAQ,kBAAC,IAAD,CAAM1a,KAAK,OAAOyF,MAAO,CAACiG,MAAO,qBACzC1L,KAAK,WACLwJ,YAAY,WACZG,MAAO3G,EAAOK,SACdoG,SAAUyQ,EACVS,OAAQR,KAEhB,kBAAC,IAAKnC,KAAN,CACIuC,eACKtW,EAAQX,WAAkBL,EAAOK,WAAa,QAAU,UAAnC,GAEtB+X,aAAW,EACXZ,KAAOxW,EAAQX,YAAkBL,EAAOK,WAAaL,EAAOK,WAAhC,IAChC,kBAAC,IAAD,CACI1B,GAAG,aACHkC,KAAK,QACL4W,OAAQ,kBAAC,IAAD,CAAM1a,KAAK,OAAOyF,MAAO,CAACiG,MAAO,qBACzC1L,KAAK,WACLwJ,YAAY,kBACZG,MAAO3G,EAAOM,WACdmG,SAAUyQ,EACVS,OAAQR,KAEhB,kBAAC,IAAKnC,KAAN,KACI,kBAAC,EAAD,CACQF,SAAUwC,EACV3U,QAASyU,EACTtW,KAAK,QACL9D,KAAK,UACL4a,SAAS,SACThX,UAAU,4BANlB,uBAUJ,kBAAC,IAAKoU,KAAN,KACI,kBAAC,IAAD,CAAM7P,GAAG,QACLvE,UAAU,uBADd,eC/FTwX,GCQAP,YAAW,CACtBC,iBAAkB,iBAAO,CACrBvX,SAAU,GACVJ,MAAO,GACPE,SAAU,GACVC,WAAY,KAEhByX,SAAU,SAAA/X,GACN,IAAIC,EAAS,GAIb,OAFA+X,EAAa,CAAEjY,QAAS,EAAOC,OAAQA,EAAQC,OAAQA,IAEhDA,GAEXmX,aAAc,SAACpX,EAAD,GAAuC,IAA5BiY,EAA2B,EAA3BA,cAAetX,EAAY,EAAZA,MACpChB,EAAMkP,SACFqJ,GACCvI,kBAAkB3P,IAElBkO,KAAK,YACkB,YADJ,EAAX9P,KACI2P,QACLpN,EAAM+M,QAAQa,KAAK,oBAEvB0J,GAAc,KAEjB9J,MAAM,WACH8J,GAAc,GACdpI,EAAiB,CACb9R,KAAM,mBACNf,KAAM,QACNkE,MAAO,aAIvBiX,YAAa,gBAlCFN,CAmCZO,IC3BYE,I,OAVF,kBACT,6BAAS1X,UAAU,QACf,yBAAKA,UAAU,iBACX,kBAAC,IAAD,CAAO2X,OAAK,EAACC,KAAM,CAAC,IAAK,UAAWC,UAAWxB,KAC/C,kBAAC,IAAD,CAAOsB,OAAK,EAACC,KAAK,YAAYC,UAAWL,KACzC,kBAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,mBAAmBC,UAAWhL,SCgC7CsC,I,OAAAA,YACX,kBAA0B,CAACzR,KAA3B,EAAEA,KAA+BxB,YAAjC,EAAQA,cADGiT,CAEb2I,YAtCW,SAAC,GAGP,IAFHpa,EAEE,EAFFA,KACAxB,EACE,EADFA,YACE,EAC0B2E,mBAAS,IADnC,mBACKkX,EADL,KACaC,EADb,KASF,OANA1W,oBAAU,WACF5D,EAAKF,MACLwa,EAAUta,EAAKF,OAEpB,CAACE,EAAKF,OAGT,6BAASwC,UAAU,QACf,yBAAKA,UAAU,QACX,kBAAC,GAAD,MACA,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,uBACX,kBAAC,GAAD,MACA,kBAAC,GAAD,MACC+X,IAAWA,EAAOza,OAAS,yBAAK0C,UAAU,iBACvC,kBAAC,GAAD,CAAQtC,KAAMqa,MAGtB,yBAAK/X,UAAU,wBAAwB6B,MAAO,CAC1CoI,OAAO,eAAD,OAAiB/N,EAAYD,MAAMoH,QAAU,EAAI,IAAK,IAAtD,SAEN,kBAAC,GAAD,CACIkC,KAAMwS,EAAO7a,KAAO,MAE5B,kBAAC,GAAD,aCbDiS,eAAQ,kBAAe,CAAE1R,SAAjB,EAAGC,KAA6BD,WAAxC0R,CApBH,SAAApP,GAAU,IACZtC,EAAasC,EAAbtC,SAER,OACE,yBAAKuC,UAAU,WACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE2X,OAAK,EACLC,KAAM,CAAC,SAAU,YAAa,oBAC9BC,UAAWH,KAEb,kBAAC,IAAD,CACEE,KAAK,IACLK,OAAQ,kBAAMxa,EAAW,kBAAC,GAAD,MAAW,kBAAC,IAAD,CAAU8G,GAAG,kB,cCN3DxF,EAAMkP,SAASqJ,GAAYxI,iBAE3BoJ,IAASD,OACL,kBAAC,IAAD,CAAUlZ,MAAOA,GACb,kBAAC,IAAD,KACI,kBAAC,GAAD,QAGN0I,SAASC,cAAc,W,gCCrB7B,mBASeyQ,sBAPE,CACb,WACA,UACA,OACA,eAISC,OAAO,SAACC,EAASrG,GAEtB,OADAqG,EAAQrG,GAAQsG,OAAQ,YAAKtG,IAAQuG,QAC9BF,GACR,O","file":"static/js/main.2a64a386.chunk.js","sourcesContent":["const initialState = {\r\n    items: []\r\n};\r\n\r\nconst attachments = (state = initialState, { type, payload }) => {\r\n    switch(type) {\r\n        case 'ATTACHMENTS:SET_ITEMS':\r\n            return {\r\n                ...state,\r\n                items: payload\r\n            };\r\n        case 'ATTACHMENTS:REMOVE_FILE':\r\n            return {\r\n                ...state,\r\n                items: state.items.filter(file => file.uid !== payload.uid),\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default attachments;","const initialState = {\r\n    items: [],\r\n    currentDialogId: window.location.pathname.split('dialog/')[1],\r\n    isLoading: false,\r\n};\r\n\r\nconst dialogs = (state = initialState, { type, payload }) => {\r\n    switch(type) {\r\n        case 'DIALOGS:SET_ITEMS':\r\n            return {\r\n                ...state,\r\n                items: payload\r\n            };\r\n        case 'DIALOGS:SET_IS_LOADING':\r\n            return {\r\n                ...state,\r\n                isLoading: payload\r\n            };\r\n        case 'DIALOGS:SET_CURRENT_DIALOG_ID':\r\n            return {\r\n                ...state,\r\n                currentDialogId: payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default dialogs;","const initialState = {\r\n    items: [],\r\n    isLoading: false,\r\n};\r\n\r\nconst messages = (state = initialState, { type, payload }) => {\r\n    switch(type) {\r\n        case 'MESSAGES:SET_ITEMS':\r\n            return {\r\n                ...state,\r\n                items: payload,\r\n                isLoading: false,\r\n            };\r\n        case 'MESSAGES:ADD_MESSAGE':\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items,\r\n                    payload\r\n                ]\r\n            };\r\n        case 'MESSAGES:CHANGE_MESSAGE':\r\n            return {\r\n                ...state,\r\n                items: state.items.filter(message => message._id === payload._id ? message.text = payload.text : true)\r\n            };\r\n        case 'MESSAGES:REMOVE_MESSAGE':\r\n            return {\r\n                ...state,\r\n                items: state.items.filter(message => message._id !== payload)\r\n            };\r\n        case 'MESSAGES:SET_IS_LOADING':\r\n            return {\r\n                ...state,\r\n                isLoading: payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default messages;","const windowLocalStorageToken = window.localStorage.token === 'undefined' ? undefined : window.localStorage.token;\r\n\r\nconst initialState = {\r\n    data: null,\r\n    token: windowLocalStorageToken,\r\n    isAuthed: !!windowLocalStorageToken,\r\n};\r\n\r\nconst user = (state = initialState, {type, payload}) => {\r\n    switch(type) {\r\n        case 'USER:SET_DATA':\r\n            return {\r\n                ...state,\r\n                data: payload,\r\n                isAuthed: true,\r\n                token: window.localStorage.token,\r\n            };\r\n        case 'USER:SET_IS_AUTHED':\r\n            return {\r\n                ...state,\r\n                isAuthed: payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default user;","module.exports = __webpack_public_path__ + \"static/media/wave.004b528d.svg\";","module.exports = __webpack_public_path__ + \"static/media/waveBlack.8e9ed252.svg\";","module.exports = __webpack_public_path__ + \"static/media/play.a1d839aa.svg\";","module.exports = __webpack_public_path__ + \"static/media/pause.030b4c1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/checked.05bd65e9.svg\";","module.exports = __webpack_public_path__ + \"static/media/unchecked.70aff14a.svg\";","module.exports = \"data:image/png;base64,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\"","var map = {\n\t\"./\": 86,\n\t\"./attachments\": 163,\n\t\"./attachments.js\": 163,\n\t\"./dialogs\": 164,\n\t\"./dialogs.js\": 164,\n\t\"./index\": 86,\n\t\"./index.js\": 86,\n\t\"./messages\": 165,\n\t\"./messages.js\": 165,\n\t\"./user\": 166,\n\t\"./user.js\": 166\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 264;","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(\r\n    applyMiddleware(...middleware)\r\n));\r\n\r\nexport default store;","export default ({ isAuth, values, errors }) => {\r\n    const rules = {\r\n        email: (errors, values) => {\r\n            if (!values.email) {\r\n                errors.email = 'Please Enter Email';\r\n            } else if (\r\n                !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)\r\n            ) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n        },\r\n    \r\n        password: (errors, values) => {\r\n            if (!values.password) {\r\n                errors.password = \"Please Input Password\";\r\n            } else if (\r\n                !isAuth && !/^(?=.*[a-z])(?=.*[0-9])(?=.{8,})/i.test(values.password)\r\n            ) {\r\n                errors.password = isAuth ? \"Invalid Password\" : \"Your password is too easy\";\r\n            };\r\n        },\r\n    \r\n        repassword: (errors, values) => {\r\n            if (!values.repassword) {\r\n                errors.repassword = \"Please repeat password\";\r\n            } else if ( errors.password || values.repassword !== values.password ) {\r\n                errors.repassword = \"Passwords doesn't match\";\r\n            }\r\n        },\r\n\r\n        fullname: (errors, values) => {\r\n            if (!isAuth && !values.fullname) {\r\n                errors.fullname = \"Please input your full name\";\r\n            }\r\n        }\r\n    }\r\n\r\n    Object.keys(values).forEach(key => {\r\n        rules[key] && rules[key](errors, values);\r\n    })\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button as BaseButton} from 'antd';\r\nimport classNames from 'classnames';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport './button.scss';\r\n\r\nconst Button = props => {\r\n    return (\r\n        <BaseButton {...props} className={classNames(props.className, 'button', {\r\n            'button--large': props.size === 'large',\r\n        })}/>\r\n    )\r\n};\r\n\r\nButton.propTypes = {\r\n    className: PropTypes.string\r\n};\r\nexport default Button;","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport './WhiteBlock.scss';\r\n\r\nconst Block = ({ children, className }) => <div className={classNames('block', className)}>{children}</div>;\r\n\r\nexport default Block;","export default (touched, errors, key) => {\r\n    if (touched[key]) {\r\n        if (errors[key]) {\r\n            return 'error';\r\n        } else {\r\n            return 'success';\r\n        }\r\n    }\r\n}","import { notification } from 'antd';\r\n\r\nexport default ({ text, type = 'info', title, duration = 3 }) =>\r\n    notification[type]({\r\n        message: title,\r\n        description: text,\r\n        duration,\r\n    });","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport { convertCurrentTime } from 'utils/helpers';\r\n\r\nimport waveSvg from 'assets/img/wave.svg';\r\nimport waveBlackSvg from 'assets/img/waveBlack.svg';\r\nimport playSvg from 'assets/img/play.svg';\r\nimport pauseSvg from 'assets/img/pause.svg';\r\n\r\nconst AudioMessage = ({\r\n    audio,\r\n    isMe\r\n}) => {\r\n    const [ isPlaying, setPlaying ] = useState(false);\r\n    const [ currentTime, setCurrentTime ] = useState(0);\r\n    const [ progress, setProgress ] = useState(0);\r\n\r\n    const audioElem = useRef(null);\r\n\r\n    const togglePlay = () => {\r\n        if (!isPlaying) {\r\n            audioElem.current.play();\r\n        } else {\r\n            audioElem.current.pause();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const audioElement = audioElem.current;\r\n        if (audioElement) {\r\n            audioElement.addEventListener('playing', () => {\r\n                setPlaying(true);\r\n            }, false);\r\n\r\n            audioElement.addEventListener('ended', () => {\r\n                setPlaying(false);\r\n                setProgress(0);\r\n            }, false);\r\n\r\n            audioElement.addEventListener('pause', () => {\r\n                setPlaying(false);\r\n            }, false);\r\n\r\n            audioElement.addEventListener('timeupdate', () => {\r\n                const duration = audioElement.duration || 0;\r\n                setCurrentTime(audioElement.currentTime);\r\n                setProgress((audioElement.currentTime / duration) * 100)\r\n            }, false);\r\n\r\n            audioElement.addEventListener('loadeddata', () => {\r\n                setCurrentTime(audioElement.duration);\r\n            })\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className='message__audio'>\r\n            <audio ref={audioElem} src={audio} preload='auto'/>\r\n            <div className='message__audio-progress'\r\n                style={{width: progress + '%'}}/>\r\n            <div className=\"message__audio-info\">\r\n                <div className=\"message__audio-btn\">\r\n                    <button onClick={togglePlay}>\r\n                        { isPlaying ?\r\n                            <img src={pauseSvg} alt=\"Pause Icon\"/>\r\n                            : <img src={playSvg} alt=\"Play Icon\"/>\r\n                        }\r\n                    </button>\r\n                </div>\r\n                <div className='message__audio-wave'>\r\n                    <img src={isMe ? waveBlackSvg : waveSvg} alt=\"Wave Icon\"/>\r\n                </div>\r\n                <span className='message__audio-duration'>{\r\n                    convertCurrentTime(currentTime)\r\n                }\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AudioMessage;","export default number => {\r\n    const mins = Math.floor(number / 60);\r\n    const secs = (number % 60).toFixed();\r\n    return `${mins < 10 ? \"0\" : \"\"}${mins}:${secs < 10 ? \"0\" : \"\"}${secs}`;\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport {Button, Popover, Icon} from 'antd';\r\nimport reactStringReplace from 'react-string-replace';\r\nimport { Emoji } from 'emoji-mart';\r\n\r\nimport { DateInfo, IconChecked, Avatar } from '../';\r\nimport { AudioMessage } from '../';\r\n\r\nimport './Message.scss';\r\n// import dickSVG from 'assets/img/dick.svg';\r\n\r\nconst Message = ({\r\n    user,\r\n    text,\r\n    createdAt,\r\n    isMe,\r\n    unchecked,\r\n    attachments,\r\n    isAudio,\r\n    isTyping,\r\n    onRemoveMessage,\r\n    setPreviewImage\r\n}) => {\r\n    return (\r\n    <div className={classNames('message', {\r\n        'message--isme'     : isMe,\r\n        'message--is-typing': isTyping,\r\n        'message--is-audio' : isAudio,\r\n        'message--image'    : attachments && attachments.length === 1 && !text})}>\r\n        <div className=\"message__content\">\r\n            <IconChecked isMe={isMe} unchecked={unchecked}/>\r\n            { isMe &&\r\n            <Popover\r\n                content={\r\n                    <div className=\"message__actions\">\r\n                        <Button onClick={onRemoveMessage} type='danger'>Delete</Button>\r\n                    </div>\r\n                }\r\n                trigger='click'>\r\n                    <div className=\"message__icon-actions\">\r\n                        <Button type='link' shape='circle' icon='ellipsis'/>\r\n                    </div>\r\n            </Popover>}\r\n            <div className=\"message__avatar\">\r\n                <Avatar user={user}/>\r\n            </div>\r\n            <div className=\"message__info\">\r\n                {(!attachments.length || (attachments.length > 1 && text) || (attachments.length === 1 && text) || isAudio) &&\r\n                <div className=\"message__bubble\">\r\n                    {(text && !isAudio) && <p className='message__text'>{\r\n                        reactStringReplace(text, /:(.+?):/g, (match) => (\r\n                            // match === 'dick' ? <img key={Math.random()} src={dickSVG}/> : \r\n                            <Emoji emoji={match} set='google' size={22} key={Math.random()}/>\r\n                        ))}</p>}\r\n                    {isTyping && <div className=\"message__typing\">\r\n                        <span className=\"dot one\"/>\r\n                        <span className=\"dot two\"/>\r\n                        <span className=\"dot three\"/>\r\n                    </div>}\r\n                    {isAudio && <AudioMessage\r\n                        audio={attachments[0].url}\r\n                        isMe={isMe}/>}\r\n                </div>}\r\n                    {(attachments && !!attachments.length && !isAudio) &&\r\n                    <div className=\"message__attachments\">\r\n                        {attachments.map(item => (\r\n                            <div\r\n                                key={Math.random()}\r\n                                className='message__attachments-item'>\r\n                                    <Icon type='eye'/>\r\n                                    <img\r\n                                        src={item.url}\r\n                                        onClick={() => setPreviewImage(item.url)}\r\n                                        alt={item.filename}/>\r\n                            </div>\r\n                        ))}\r\n                    </div>}\r\n                <span className=\"message__date\">\r\n                    <DateInfo date={createdAt}/>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n)};\r\n\r\nMessage.propTypes = {\r\n    user        : PropTypes.object,\r\n    isMe        : PropTypes.bool,\r\n    avatar      : PropTypes.string,\r\n    text        : PropTypes.string,\r\n    createdAt   : PropTypes.string,\r\n    attachments : PropTypes.array,\r\n    classNames  : PropTypes.string,\r\n    isTyping    : PropTypes.bool,\r\n};\r\n\r\nexport default Message;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport { format, isToday } from 'date-fns';\r\nimport { Icon } from 'antd';\r\nimport reactStringReplace from 'react-string-replace';\r\nimport { Emoji } from 'emoji-mart';\r\n\r\nimport { Avatar } from '../';\r\n\r\nimport { IconChecked } from '../';\r\nimport './DialogsItem.scss';\r\n\r\nconst getDate = time => {\r\n    time = new Date(time);\r\n\r\n    if (isToday(time)) {\r\n        return format(\r\n            time,\r\n            'HH:mm'\r\n        )\r\n    } else {\r\n        return format(\r\n            time,\r\n            'MM.dd.yyyy'\r\n        )\r\n    }\r\n};\r\n\r\nconst DialogsItem = ({\r\n    _id,\r\n    user,\r\n    currentDialogId, \r\n    isMe,\r\n    onSelect,\r\n    lastMessage,\r\n    }) => (\r\n        <Link to={`/dialogs/${user.fullname.split(' ').join('_')}`}>\r\n            <div className={classNames('dialogs__item', {\r\n                'dialogs__item--online': user.isOnline,\r\n                'dialogs__item--selected': currentDialogId === _id\r\n                })}\r\n                onClick={onSelect.bind(this, _id)}>\r\n                <div className=\"dialogs__item-avatar\">\r\n                    <Avatar user={user} />\r\n                </div>\r\n                <div className=\"dialogs__item-content\">\r\n                    <div className=\"dialogs__item-content-top\">\r\n                        <b>{user.fullname}</b>\r\n                        <span className=\"dialogs__item-content-date\">\r\n                            {getDate(lastMessage.createdAt)}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"dialogs__item-content-bottom\">\r\n                        <p>\r\n                            {lastMessage.text ? reactStringReplace(lastMessage.text, /:(.+?):/g, (match) => (\r\n                                <Emoji emoji={match} key={match + Math.round(Math.random() * 10)} set='google' size={16} />))\r\n                            : lastMessage.attachments.length && lastMessage.attachments[0].ext === 'ogg' ? \r\n                            (<span><Icon type='audio'/> Voice Message</span>) \r\n                            : (<span><Icon type='file-image'/> Image</span>)}\r\n                        </p>\r\n                        {isMe && <IconChecked isMe={isMe} unchecked={lastMessage.unchecked} />}\r\n                        {(lastMessage.unchecked > 0 && !isMe) &&\r\n                            <div className='dialogs__item-content-bottom-unchecked-count'>\r\n                                {lastMessage.unchecked > 1 ? lastMessage.unchecked : 1}\r\n                            </div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n);\r\n\r\nexport default DialogsItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport checkedIcon from 'assets/img/checked.svg';\r\nimport unCheckedIcon from 'assets/img/unchecked.svg';\r\n\r\nconst IconChecked = ({ isMe, unchecked }) =>\r\n\r\n    (isMe ?\r\n        (!unchecked ? (\r\n            <img src={checkedIcon} alt=\"CheckedIcon\" className=\"message__icon-checked\"/>\r\n        ) : (\r\n            <img src={unCheckedIcon} alt=\"UnCheckedIcon\" className=\"message__icon-unchecked\"/>\r\n        )) : ''\r\n    );\r\n\r\nIconChecked.propTypes = {\r\n    isMe: PropTypes.bool,\r\n    isChecked: PropTypes.bool\r\n};\r\n\r\nexport default IconChecked;","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\n\r\nconst DateInfo = ({ date }) => (\r\n    date ?\r\n        (<Fragment>\r\n            {formatDistanceToNow(new Date( date ), {addSuffix: true})}\r\n        </Fragment>) : ''\r\n);\r\n\r\nDateInfo.propTypes = {\r\n    date: PropTypes.string\r\n};\r\n\r\nexport default DateInfo;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input, Empty } from 'antd';\r\nimport { orderBy } from 'lodash';\r\n\r\nimport './Dialogs.scss';\r\n\r\nimport { DialogsItem } from '../';\r\n\r\nconst Dialogs = ({\r\n    items,\r\n    myId,\r\n    onSearch,\r\n    inputValue,\r\n    currentDialogId,\r\n    onSelectDialog\r\n}) => (\r\n    <div className=\"dialogs-wrapper\">\r\n        <div className=\"chat__sidebar-search\">\r\n            <Input.Search\r\n                placeholder='Search for dialogs'\r\n                onChange={e => onSearch(e.target.value)}\r\n                value={inputValue}/>\r\n        </div>\r\n        <div className=\"dialogs\">\r\n        {items.length ? orderBy(items, [{lastMessage: 'createdAt'}], ['desc']).map(item => (\r\n            <DialogsItem\r\n                user={item.author._id !== myId ? item.author : item.partner}\r\n                isMe={item.lastMessage.user._id === myId}\r\n                onSelect={onSelectDialog}\r\n                key={item._id}\r\n                {...item}\r\n                lastMessage={item.lastMessage}\r\n                currentDialogId={currentDialogId}/>))\r\n            : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />}\r\n        </div>\r\n    </div>\r\n);\r\n\r\nDialogs.propTypes = {\r\n    users: PropTypes.array\r\n};\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Empty, Icon, Modal } from 'antd';\r\nimport classNames from 'classnames';\r\n\r\nimport { Message } from '../';\r\n\r\nimport './Messages.scss';\r\n\r\nconst Messages = ({\r\n    onRemoveMessage,\r\n    baseRef,\r\n    isLoading,\r\n    items,\r\n    myId,\r\n    user,\r\n    previewImage,\r\n    setPreviewImage,\r\n}) => {\r\n    const allowedAudioFormats = ['ogg', 'webm', 'mp3'];\r\n\r\n    return  <div\r\n        ref={baseRef}\r\n        className={classNames(\"messages\", {\r\n            'messages--loading': isLoading\r\n        })}>\r\n        {\r\n            isLoading || !user ?\r\n            (<Icon type=\"loading\" spin />)\r\n            : !items || !items.length ? <Empty description=\"Select dialog to start messaging or start new dialog by pressing button right to Dialogs List\"/>\r\n            : (<div className='messages-wrapper'>\r\n                {items.map(item =>\r\n                    <Message\r\n                        isAudio={!!item.attachments.length && allowedAudioFormats.includes(item.attachments[0].ext)}\r\n                        onRemoveMessage={onRemoveMessage.bind(this, item._id)}\r\n                        setPreviewImage={setPreviewImage}\r\n                        key={Math.random()}\r\n                        {...item}\r\n                        isMe={item.user._id === myId}/>\r\n                )}</div>)\r\n    }\r\n    <Modal visible={!!previewImage} onCancel={() => setPreviewImage(null)} footer={null}>\r\n        <img src={previewImage} style={{width: '100%'}} alt=\"Preview\"/>\r\n    </Modal>\r\n    </div>\r\n};\r\n\r\nMessages.propTypes = {\r\n    items: PropTypes.array,\r\n};\r\n\r\nexport default Messages;","import React from 'react';\r\nimport { Popover, Button } from 'antd';\r\n\r\n\r\nconst AccountMenu = ({\r\n    userName,\r\n    isVisible\r\n}) => {\r\n    return (\r\n        <Popover\r\n            className='account-menu'\r\n            title={userName}\r\n            trigger='click'\r\n            visible={isVisible}\r\n            placement='bottom'\r\n            content={\r\n                <Button type='danger' onClick={() => {window.localStorage.clear(); window.location.reload()}}>Log Out</Button>\r\n            }\r\n        />\r\n    )\r\n};\r\n\r\nexport default AccountMenu;","import React, { Fragment, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { generateAvatarFromHash } from 'utils/helpers';\r\n\r\nimport AccountMenu from \"../AccountMenu\";\r\n\r\nimport './avatar.scss';\r\n\r\nconst Avatar = ({ user, style }) => {\r\n\r\n    const [isMenuVisible, setIsMenuVisible] = useState(false);\r\n\r\n    const handleOutsideClick = (el, e) => {\r\n        if ((el && !el.contains(e.target))) {\r\n            setIsMenuVisible(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const accountMenu = document.querySelector('.chat__account');\r\n\r\n            document.addEventListener('click', handleOutsideClick.bind(this, accountMenu));\r\n    });\r\n\r\n    if (user.avatar) {\r\n        return (\r\n            <Fragment>\r\n                <img\r\n                    style={style}\r\n                    src={user.avatar}\r\n                    alt={`${user.fullname} avatar`}\r\n                    onClick={() => setIsMenuVisible(true)}/>\r\n                <AccountMenu userName={user.fullname} isVisible={isMenuVisible}/>\r\n            </Fragment>\r\n        )\r\n    } else {\r\n        const color = generateAvatarFromHash(user._id),\r\n            firstCharOfName = user.fullname[0];\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className='avatar avatar--empty'\r\n                    style={{\r\n                        ...style,\r\n                        background: `linear-gradient(135deg, ${color.color}, ${color.colorLighten} 96%)`\r\n                    }}\r\n                    onClick={() => setIsMenuVisible(true)}>\r\n                    { firstCharOfName }\r\n                </div>\r\n                <AccountMenu userName={user.fullname} isVisible={isMenuVisible}/>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nAvatar.propTypes = {\r\n    user: PropTypes.object,\r\n};\r\n\r\nexport default Avatar;","import tinycolor from 'tinycolor2';\r\n\r\n\r\nexport default hash => {\r\n    const [r, g, b] = hash\r\n        .toString()\r\n        .substr(-3)\r\n        .split('')\r\n        .map(char => (char.charCodeAt(0) > 255) ? 255 : char.charCodeAt(0));\r\n    const color = tinycolor({r, g, b});\r\n\r\n    return {\r\n        color: color\r\n            .lighten(10)\r\n            .saturate(10)\r\n            .toHexString(),\r\n        colorLighten: color\r\n            .lighten(30)\r\n            .saturate(30)\r\n            .toHexString()\r\n    };\r\n}","import React from 'react';\r\nimport { Input, Button, Icon } from 'antd';\r\nimport { UploadField } from '@navjobs/upload';\r\nimport { Picker } from 'emoji-mart';\r\nimport classNames from 'classnames';\r\n\r\nimport { FilesUploader } from '..';\r\nimport './ChatInput.scss';\r\n// import dickSVG from 'assets/img/dick.svg';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst ChatInput = ({\r\n    toggleEmojiTab,\r\n    emojiTabIsActive,\r\n    setValue,\r\n    value,\r\n    handleEmojiSelect,\r\n    handleSendMessage,\r\n    handleFileUpload,\r\n    attachments,\r\n    removeAttachment,\r\n    isRecording,\r\n    onRecord,\r\n    onStopRecording,\r\n}) => {\r\n    return (\r\n            <div className=\"chat-input\">\r\n                <div>\r\n                    <div className=\"chat-input__actions\">\r\n                        <div className={classNames(\"chat-input__emoji-picker\", {\r\n                            'chat-input__emoji-picker--visible': emojiTabIsActive,\r\n                        })}>\r\n                            <Picker set='google' style={{width: 290}} onSelect={(emoji) => handleEmojiSelect(emoji)}/>\r\n                        </div>\r\n                        <Button\r\n                            onClick={toggleEmojiTab}\r\n                            type='link'\r\n                            shape='circle'\r\n                            className=\"chat-input__smile-btn\"\r\n                            icon=\"smile\"/>\r\n                        {/* <img src={dickSVG} className='chat-input__send-dick' onClick={() => setValue(':dick:')}/> */}\r\n                        <UploadField\r\n                            onFiles={handleFileUpload}\r\n                            containerProps={{\r\n                                className: 'chat-input__actions-upload-photo'\r\n                            }}\r\n                            uploadProps={{\r\n                                accept: '.jpg,.png,.jpeg,.pdf,.webp,.gif',\r\n                                multiple: \"multiple\"\r\n                            }}>\r\n                            <Button\r\n                                type='link'\r\n                                shape='circle'\r\n                                icon='camera'/>\r\n                        </UploadField>\r\n                    </div>\r\n                    {!isRecording &&\r\n                    <TextArea\r\n                        style={{height: 20}}\r\n                        autosize={{ maxRows: window.innerWidth <= 480 ? 2 : 6 }}\r\n                        onChange={ e => setValue(e.target.value) }\r\n                        onKeyUp={ handleSendMessage }\r\n                        placeholder=\"Input your message\"\r\n                        value={ value }/>}\r\n                    { isRecording &&\r\n                        <div className=\"chat-input__record-status\">\r\n                            <i className='record-icon'/>\r\n                            <span>Recording</span>\r\n                            <Icon type='close' onClick={onStopRecording}/>\r\n                        </div>}\r\n                        {isRecording || value || (attachments && attachments.length) ?\r\n                        <Button type='link' shape='circle' icon=\"check-circle\" onClick={handleSendMessage}/>\r\n                        : (<div className=\"chat-input__record-btn\">\r\n                                <Button\r\n                                    type='link'\r\n                                    shape='circle'\r\n                                    icon=\"audio\"\r\n                                    onClick={onRecord}/>\r\n                            </div>)}\r\n                </div>\r\n                <div className='chat-input-attachments'>\r\n                    <FilesUploader attachments={attachments} removeAttachment={removeAttachment}/>\r\n                </div>\r\n            </div>);\r\n};\r\n\r\nexport default ChatInput;","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport './Status.scss';\r\n\r\nconst Status = ({ online, fullname, isMe }) => (\r\n    <div className=\"chat__dialog-header-info\">\r\n        <b className=\"chat__dialog-fullname\">{fullname}</b>\r\n        {!isMe &&\r\n        <span className={classNames('status', {\r\n            'status--online': online\r\n        })}>\r\n            {online ? 'online': 'offline'}\r\n        </span>\r\n        }\r\n    </div>\r\n);\r\n\r\nexport default Status;","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = window.location.origin;\r\naxios.defaults.headers.common['token'] = window.localStorage.token;\r\n\r\nwindow.axios = axios;\r\n\r\nexport default axios;","import socketIO from 'socket.io-client';\r\n\r\nconst sockets = socketIO(window.location.origin.replace('localhost:3000', 'slim-chat.herokuapp.com'));\r\n\r\nexport default sockets;","import { axios } from 'core';\r\n\r\nconst dialogsApi = {\r\n    getAll: () => axios.get('/dialogs'),\r\n    create: ({partnerId, text}) => axios.post('/dialogs', {\r\n        partner: partnerId,\r\n        text: text\r\n    }),\r\n};\r\n\r\nexport default dialogsApi;","import { axios } from 'core';\r\n\r\nconst messagesApi = {\r\n    getDialogById: dialogId => axios.get(`/messages/${dialogId}`),\r\n    send: ({text, dialogId, attachments = []}) => axios.post(`/messages`, {\r\n        text: text,\r\n        dialog: dialogId,\r\n        attachments\r\n    }),\r\n    removeById: id => axios.delete(`/messages/${id}`),\r\n};\r\n\r\nexport default messagesApi;","import {axios} from 'core';\r\n\r\nconst userApi = {\r\n    login: postData => axios.post('/user/login', postData),\r\n    getMe: () => axios.get('/user/me'),\r\n    verifyHash: hash => axios.get(`/user/verify?hash=${hash}`),\r\n    register: postData => axios.post('/user/register', postData),\r\n    findUsers: query => axios.get(`/user/find?query=${query}`)\r\n};\r\n\r\nexport default userApi;","import { axios } from 'core';\r\n\r\nconst uploadApi = {\r\n    upload: file => {\r\n        const formData = new FormData();\r\n\r\n        formData.append('file', file);\r\n        console.log(file);\r\n        return axios.post('/files', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n};\r\n\r\nexport default uploadApi;","import React, { useEffect, useState } from 'react';\r\nimport { Result, Button } from 'antd';\r\n\r\nimport { userApi } from 'utils/api';\r\nimport { Block } from 'components';\r\n\r\nconst VerifyEmail = ({ location, history }) => {\r\n    const [verified, setVerified] = useState(false),\r\n        [statusMessage, setStatusMessage] = useState(''),\r\n        [status, setStatus] = useState('success');\r\n\r\n    useEffect(() => {\r\n        const hash = location.search.split('hash=')[1];\r\n\r\n        if (hash) {\r\n            userApi\r\n            .verifyHash(hash)\r\n            .then(({ data }) => {\r\n                setStatus(data.status);\r\n\r\n                if (data.status === 'success') {\r\n                    setVerified(true);\r\n                }\r\n\r\n                setStatusMessage(data.message);\r\n            })\r\n            .catch(() => {\r\n                setVerified(false);\r\n                setStatus('Error');\r\n\r\n                setStatusMessage('Confirmation error');\r\n            })\r\n        }\r\n    });\r\n\r\n    return (\r\n        <Block className={'verify-block'}>\r\n            <Result\r\n                status={status}\r\n                title={status.toUpperCase()}\r\n                subTitle={\r\n                    status === 'success' && !verified ?\r\n                    \"Please check your email to verify your account\"\r\n                    : statusMessage\r\n                }\r\n                extra={\r\n                    status === 'success' && verified &&\r\n                        <Button \r\n                            onClick={() => {history.push('/login')}}\r\n                            type=\"primary\">\r\n                                Login\r\n                        </Button>}\r\n        />\r\n    </Block>\r\n)};\r\n\r\nexport default VerifyEmail;","import { dialogsApi } from \"utils/api\";\r\n\r\nconst actions = {\r\n    setDialogs: items => ({\r\n        type: 'DIALOGS:SET_ITEMS',\r\n        payload: items,\r\n    }),\r\n    setCurrentDialogId: id => {\r\n        if (window.innerWidth <= 480)\r\n            document.querySelector('.chat').style.transform = 'translateX(-50%)';\r\n\r\n        return {\r\n            type: 'DIALOGS:SET_CURRENT_DIALOG_ID',\r\n            payload: id,\r\n        }\r\n    },\r\n    fetchDialogs: () => dispatch => {\r\n        dialogsApi.getAll().then(({ data }) => {\r\n            dispatch(actions.setDialogs(data));\r\n        });\r\n    }\r\n};\r\n\r\nexport default actions;","import { messagesApi } from 'utils/api';\r\n\r\nconst messagesActions = {\r\n    setMessages: items => ({\r\n        type: 'MESSAGES:SET_ITEMS',\r\n        payload: items,\r\n    }),\r\n    addMessage: message => (dispatch, getState) => {\r\n        const { dialogs } = getState(),\r\n                { currentDialogId } = dialogs;\r\n        \r\n        if (currentDialogId === message.dialog._id) {\r\n            dispatch({\r\n                type: 'MESSAGES:ADD_MESSAGE',\r\n                payload: message\r\n            })\r\n        }\r\n    },\r\n    setIsLoading: bool => ({\r\n        type: 'MESSAGES:SET_IS_LOADING',\r\n        payload: bool,\r\n    }),\r\n    removeMessageById: messageId => dispatch => {\r\n        console.log(`Remove request for: ${messageId}`);\r\n        messagesApi\r\n            .removeById(messageId)\r\n            .then(() => {\r\n                dispatch({\r\n                    type: 'MESSAGES:REMOVE_MESSAGE',\r\n                    payload: messageId\r\n                })\r\n            })\r\n            .catch(() => {\r\n                dispatch(messagesActions.setIsLoading(false));\r\n            })\r\n    },\r\n    fetchMessageSend: ({text, dialogId, attachments}) => dispatch => {\r\n        messagesApi.send({\r\n            text,\r\n            dialogId,\r\n            attachments\r\n        })\r\n    },\r\n    fetchMessages: dialogId => dispatch => {\r\n        dispatch(messagesActions.setIsLoading(true));\r\n\r\n        messagesApi\r\n            .getDialogById(dialogId)\r\n            .then(({data}) => {\r\n                dispatch(messagesActions.setMessages(data));\r\n            })\r\n            .catch(() => {\r\n                dispatch(messagesActions.setIsLoading(false));\r\n            })\r\n    }\r\n};\r\n\r\nexport default messagesActions;","import {userApi} from 'utils/api';\r\nimport {openNotification} from 'utils/helpers';\r\n\r\nconst actions = {\r\n    setUserData: data => ({\r\n        type: 'USER:SET_DATA',\r\n        payload: data\r\n    }),\r\n    setIsAuthed: bool => ({\r\n        type: 'USER:SET_IS_AUTHED',\r\n        payload: bool,\r\n    }),\r\n    fetchUserData: () => dispatch => {\r\n        userApi\r\n            .getMe()\r\n            .then(({ data }) => {\r\n                dispatch(actions.setUserData(data));\r\n            })\r\n            .catch(() => {\r\n                dispatch(actions.setIsAuthed(false));\r\n                delete window.localStorage.token;\r\n            });\r\n    },\r\n    fetchUserRegister: postData => dispatch => {\r\n        return userApi.register(postData)\r\n    },\r\n    fetchUserLogin: postData => dispatch => {\r\n        return userApi\r\n                    .login(postData)\r\n                    .then(({ data }) => {\r\n                        const { token } = data;\r\n                        \r\n                        dispatch(actions.setUserData(data));\r\n\r\n                        openNotification({\r\n                            title: 'success',\r\n                            type: 'success'\r\n                        });\r\n\r\n                        window.axios.defaults.headers.common['token'] = token;\r\n                        window.localStorage['token'] = token;\r\n                        dispatch(actions.fetchUserData());\r\n                        dispatch(actions.setIsAuthed(true));\r\n\r\n                        return data;\r\n                    })\r\n                    .catch(() => {\r\n                        openNotification({\r\n                            title: 'Login Failed',\r\n                            text: 'Error in email or password',\r\n                            type: 'error'\r\n                        })\r\n                    })\r\n    }\r\n};\r\n\r\nexport default actions;","const actions = {\r\n    setAttachments: items => ({\r\n        type: \"ATTACHMENTS:SET_ITEMS\",\r\n        payload: items\r\n    }),\r\n    removeAttachment: file => ({\r\n        type: \"ATTACHMENTS:REMOVE_FILE\",\r\n        payload: file\r\n    })\r\n};\r\n\r\nexport default actions;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { dialogsActions } from \"redux/actions\";\r\nimport { Dialogs as BaseDialogs } from 'components';\r\nimport socket from 'core/socket';\r\n\r\nconst Dialogs = ({ \r\n    fetchDialogs, \r\n    currentDialogId, \r\n    setCurrentDialogId, \r\n    items, \r\n    myId }) => {\r\n    const [inputValue, setValue] = useState(''),\r\n        [filtered, setFiltered ] = useState(Array.from(items));\r\n\r\n    const onChangeInput = (value = '') => {\r\n        setFiltered(\r\n            items.filter(\r\n                dialog => {\r\n                    let user = {};\r\n\r\n                    if (dialog.author._id === myId) {\r\n                        user = dialog.partner;\r\n                    } else {\r\n                        user = dialog.author;\r\n                    }\r\n                    \r\n                    return user.fullname.toLowerCase().indexOf(value.toLowerCase()) >= 0\r\n                }\r\n            )\r\n        );\r\n\r\n        setValue(value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!items.length) {\r\n            fetchDialogs();\r\n        } else {\r\n            setFiltered(items);\r\n        }\r\n    }, [items, fetchDialogs]);\r\n\r\n    socket.on('SERVER:DIALOG_CREATED', () => {\r\n        fetchDialogs();\r\n    });\r\n\r\n    socket.on('MESSAGES:NEW_MESSAGE', () => {\r\n        fetchDialogs();\r\n    });\r\n\r\n    return (\r\n        <BaseDialogs\r\n            myId={myId}\r\n            items={filtered}\r\n            onSearch={onChangeInput}\r\n            inputValue={inputValue}\r\n            onSelectDialog={setCurrentDialogId}\r\n            currentDialogId={currentDialogId}/>\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    ({ dialogs }) => dialogs,\r\n    dialogsActions\r\n)(Dialogs);","import React, { useEffect, useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { messagesActions } from \"redux/actions\";\r\nimport { Messages as BaseMessages } from 'components';\r\nimport socket from 'core/socket';\r\n\r\nconst Messages = ({\r\n    items,\r\n    fetchMessages,\r\n    currentDialogId,\r\n    removeMessageById,\r\n    fetchMessageChange,\r\n    addMessage,\r\n    isLoading,\r\n    myId,\r\n    user\r\n}) => {\r\n    const messagesRef = useRef(null);\r\n\r\n    const [previewImage, setPreviewImage] = useState(null);\r\n\r\n\r\n    const onDialogChange = data => {\r\n        addMessage(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (currentDialogId) {\r\n            fetchMessages(currentDialogId);\r\n        }\r\n\r\n        socket.on('MESSAGES:NEW_MESSAGE', onDialogChange);\r\n\r\n        return () => {\r\n            socket.removeListener('MESSAGES:NEW_MESSAGE', onDialogChange);\r\n        }\r\n    }, [currentDialogId]);\r\n\r\n    useEffect(() => {\r\n        messagesRef.current.scrollTop = messagesRef.current.scrollHeight;\r\n    }, [items]);\r\n\r\n    return (\r\n        <BaseMessages\r\n            user={user}\r\n            onRemoveMessage={removeMessageById}\r\n            myId={myId}\r\n            baseRef={messagesRef}\r\n            isLoading={isLoading}\r\n            items={items}\r\n            setPreviewImage={setPreviewImage}\r\n            previewImage={previewImage}\r\n        />\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    ({ dialogs, user, messages }) => ({\r\n        currentDialogId: dialogs.currentDialogId,\r\n        items: messages.items,\r\n        isLoading: messages.isLoading,\r\n        user: user.data,\r\n    }),\r\n    messagesActions\r\n)(Messages);","import React, {useEffect, useState} from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { messagesActions, attachmentsActions } from 'redux/actions';\r\nimport { ChatInput as ChatInputBase } from 'components';\r\nimport { uploadApi } from \"utils/api\";\r\n\r\nconst ChatInput = ({\r\n    fetchMessageSend,\r\n    setAttachments,\r\n    removeAttachment,\r\n    dialogs: { currentDialogId },\r\n    attachments,\r\n}) => {\r\n    window.navigator.getUserMedia = (window.navigator.getUserMedia ||\r\n        window.navigator.mozGetUserMedia ||\r\n        window.navigator.msGetUserMedia ||\r\n        window.navigator.webkitGetUserMedia);\r\n\r\n    const [value, setValue] = useState(''),\r\n        [emojiTabIsActive, setEmojiTabIsActive] = useState(false),\r\n        [isRecording, setIsRecording] = useState(false),\r\n        [mediaRecorder, setMediaRecorder] = useState(null);\r\n\r\n    const toggleEmojiTab = () => {\r\n        setEmojiTabIsActive(!emojiTabIsActive);\r\n    };\r\n\r\n    const handleSendMessage = (e) => {\r\n        if (e.keyCode === 13 || e.type === 'click') {\r\n            e.preventDefault();\r\n\r\n            if (mediaRecorder) mediaRecorder.stop();\r\n\r\n            if (attachments && attachments.length) {\r\n                fetchMessageSend({\r\n                    text: value,\r\n                    dialogId: currentDialogId,\r\n                    attachments: attachments.map(item => item.uid)});\r\n                setAttachments([]);\r\n            } else if (value) {\r\n                fetchMessageSend({\r\n                    text: value,\r\n                    dialogId: currentDialogId\r\n                });\r\n            }\r\n            setValue('');\r\n            setIsRecording(false);\r\n        }\r\n    };\r\n\r\n    const sendAudio = audioId => {\r\n        fetchMessageSend({\r\n            text: value,\r\n            dialogId: currentDialogId,\r\n            attachments: [audioId]\r\n        })\r\n    };\r\n\r\n    const handleEmojiSelect = ({ colons }) => {\r\n        setValue((value + \" \" + colons).trim());\r\n    };\r\n\r\n    const handleOutsideClick = (el, e) => {\r\n        if (el && !(el.contains(e.target) || e.target.closest('.chat-input__emoji-picker') || e.target.classList.contains('chat-input__smile-btn'))) {\r\n            setEmojiTabIsActive(false);\r\n        }\r\n    };\r\n\r\n    const onRecord = () => {\r\n        if (navigator.getUserMedia) {\r\n            navigator.getUserMedia({ audio: true }, onRecording, onError)\r\n        }\r\n    };\r\n\r\n    const onHideRecording = () => {\r\n        mediaRecorder.stop();\r\n        setIsRecording(false);\r\n    };\r\n\r\n    const onRecording = stream => {\r\n        const recorder = (new MediaRecorder(stream));\r\n        setMediaRecorder(recorder);\r\n\r\n        recorder.start();\r\n\r\n        recorder.onstart = () => {\r\n            setIsRecording(true);\r\n        };\r\n\r\n        recorder.onstop = () => {\r\n            setIsRecording(false);\r\n        };\r\n\r\n        recorder.ondataavailable = e => {\r\n            const audioFile = new File([e.data], 'audio.ogg', {type: 'audio/ogg'});\r\n            uploadApi.upload(audioFile).then(({ data }) => {\r\n                sendAudio(data.file._id);\r\n            });\r\n        }\r\n    };\r\n\r\n    const onError = err => {\r\n        console.log('Error: ' + err);\r\n    };\r\n\r\n    const handleFileUpload = async files => {\r\n        let uploaded = attachments;\r\n        for (const file of files) {\r\n            const uid = Math.round(Math.random() * 1000);\r\n\r\n            uploaded = [\r\n                ...uploaded,\r\n                {\r\n                    uid: uid,\r\n                    name: file.name,\r\n                    status: 'uploading'\r\n                }];\r\n\r\n            setAttachments(uploaded);\r\n\r\n            await uploadApi\r\n                .upload(file)\r\n                .then(({ data }) => {\r\n                    uploaded = uploaded.map(item => {\r\n                        if (item.uid === uid) {\r\n                            return {\r\n                                status: 'done',\r\n                                uid: data.file._id,\r\n                                name: data.file.filename,\r\n                                url: data.file.url,\r\n                            };\r\n                        }\r\n                        return item;\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    return {\r\n                        status: 'error'\r\n                    }\r\n                })\r\n        }\r\n        setAttachments(uploaded);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const emojiTabButton = document.querySelector('.chat-input__smile-btn');\r\n\r\n        document.addEventListener('click', handleOutsideClick.bind(this, emojiTabButton));\r\n\r\n        return () => {\r\n            document.addEventListener('click', handleOutsideClick.bind(this, emojiTabButton));\r\n        }\r\n    });\r\n\r\n    if (!currentDialogId) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <ChatInputBase\r\n            toggleEmojiTab={toggleEmojiTab}\r\n            emojiTabIsActive={emojiTabIsActive}\r\n            setValue={setValue}\r\n            value={value}\r\n            handleEmojiSelect={handleEmojiSelect}\r\n            handleSendMessage={handleSendMessage}\r\n            handleFileUpload={handleFileUpload}\r\n            attachments={attachments}\r\n            removeAttachment={removeAttachment}\r\n            isRecording={isRecording}\r\n            onRecord={onRecord}\r\n            onStopRecording={onHideRecording}\r\n        />\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    ({dialogs, attachments}) => ({\r\n        dialogs,\r\n        attachments: attachments.items\r\n    }),\r\n    {...messagesActions, ...attachmentsActions}\r\n)(ChatInput);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Status as StatusBase } from 'components';\r\n\r\nconst Status = ({ currentDialogId, user, dialogs }) => {\r\n    const currentDialog = dialogs.filter(dialog => dialog._id === currentDialogId)[0];\r\n\r\n    if (!dialogs.length || !currentDialogId) {\r\n        return ( user &&\r\n            <StatusBase\r\n                fullname={user.fullname}\r\n                isMe\r\n                />\r\n        );\r\n    }\r\n\r\n    let partner = {};\r\n\r\n    if (currentDialog.author._id === user._id) {\r\n        partner = currentDialog.partner;\r\n    } else {\r\n        partner = currentDialog.author;\r\n    }\r\n\r\n    return (\r\n        <StatusBase\r\n            fullname={partner.fullname}\r\n            online={partner.isOnline}\r\n        />\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    ({ dialogs, user }) => ({\r\n        currentDialogId: dialogs.currentDialogId,\r\n        dialogs: dialogs.items,\r\n        user: user.data\r\n    })\r\n)(Status);","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Sidebar as SidebarBase } from 'components';\r\nimport { userApi, dialogsApi } from 'utils/api';\r\nimport { dialogsActions } from 'redux/actions';\r\nimport { socket } from 'core';\r\n\r\n\r\nconst Sidebar = ({\r\n    user,\r\n    getAll\r\n}) => {\r\n    const [isVisible, setIsVisible]         = useState(false),\r\n        [inputValue, setInputValue]         = useState(''),\r\n        [users, setUsers]                   = useState([]),\r\n        [isSearching, setIsSearching]       = useState(false),\r\n        [selectedUserId, setSelectedUserId] = useState(''),\r\n        [messageText, setMessageText]       = useState('');\r\n\r\n    const handleShow = () => {\r\n        setIsVisible(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setIsVisible(false);\r\n    };\r\n\r\n    const handleInputValueChange = value => {\r\n        setInputValue(value);\r\n    };\r\n\r\n    const onSelectUser = userId => {\r\n        setSelectedUserId(userId);\r\n    };\r\n\r\n    const onAddDialogs = () => {\r\n        dialogsApi\r\n            .create({\r\n                partnerId: selectedUserId,\r\n                text: messageText,\r\n            })\r\n            .then(() => {\r\n                handleClose();\r\n                setIsSearching(false);\r\n                socket.on('DIALOGS:DIALOG_CREATED', getAll);\r\n            })\r\n            .catch(() => {\r\n                setIsSearching(false);\r\n            })\r\n    };\r\n\r\n    const onTextAreaChange = e => {\r\n        setMessageText(e.target.value);\r\n    };\r\n\r\n    const onSearch = value => {\r\n        setIsSearching(true);\r\n        userApi\r\n            .findUsers(value)\r\n            .then(({ data }) => {\r\n                console.log(data);\r\n                setIsSearching(false);\r\n                setUsers(data);\r\n            })\r\n            .catch(() => {\r\n                setIsSearching(true);\r\n            })\r\n    };\r\n\r\n    return(\r\n        <SidebarBase\r\n            user={user}\r\n            onShow={handleShow}\r\n            onClose={handleClose}\r\n            isVisible={isVisible}\r\n            isSearching={isSearching}\r\n            inputValue={inputValue}\r\n            onModalOk={onAddDialogs}\r\n            onChangeInput={handleInputValueChange}\r\n            onSearch={onSearch}\r\n            onSelectUser={onSelectUser}\r\n            onTextAreaChange={onTextAreaChange}\r\n            users={users}\r\n            messageText={messageText}\r\n            />\r\n    )\r\n};\r\n\r\nexport default connect(({ user }) => ({user: user.data}), dialogsActions)(Sidebar);","import React from 'react';\r\nimport { Modal, Button, Select, Input, Form } from 'antd';\r\n\r\nimport { Dialogs } from 'containers';\r\n\r\nimport logo from 'assets/img/logo512.png';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst Sidebar = ({\r\n    users,\r\n    user,\r\n    isVisible,\r\n    onShow,\r\n    onClose,\r\n    onChangeInput,\r\n    onSelectUser,\r\n    inputValue,\r\n    isSearching,\r\n    onSearch,\r\n    onModalOk,\r\n    onTextAreaChange,\r\n    messageText,\r\n}) => {\r\n    const options = users.map(user => <Option key={user._id} style={{display: 'flex', alignItems: 'center'}}>\r\n        {user.fullname}\r\n        <span style={{\r\n            color: 'lightgray',\r\n            marginLeft: 5\r\n        }}>\r\n            {user.email}\r\n        </span>\r\n        </Option>);\r\n    \r\n    return (\r\n    <div className=\"chat__sidebar\">\r\n        <div className=\"chat__sidebar-header\">\r\n            <div>\r\n                <img className=\"chat__sidebar-logo\" src={logo} alt=\"Logo\"/>\r\n                <span className=\"chat__sidebar-name\">\r\n                    Slim-Chat <span className=\"chat__sidebar-version\">v0.2.0</span>\r\n                </span>\r\n            </div>\r\n            <Button\r\n                onClick={onShow}\r\n                type='link'\r\n                shape='circle'\r\n                icon='form'\r\n                style={{color: 'rgba(0, 0, 0, .6)'}}/>\r\n            <Modal\r\n                visible={isVisible}\r\n                title='Start new dialog'\r\n                onClose={onClose}\r\n                footer={[\r\n                    <Button key='back' onClick={onClose}>\r\n                        Cancel\r\n                    </Button>,\r\n                    <Button\r\n                        disabled={!messageText}\r\n                        key='submit'\r\n                        type='primary'\r\n                        loading={isSearching}\r\n                        onClick={onModalOk}>\r\n                        Write!\r\n                    </Button>,\r\n                ]}>\r\n                <Form>\r\n                    <Form.Item label={'Input User\\'s name or email'}>\r\n                        <Select\r\n                            value={inputValue}\r\n                            onChange={onChangeInput}\r\n                            onSearch={onSearch}\r\n                            onSelect={onSelectUser}\r\n                            style={{width: '100%'}}\r\n                            placeholder='Find user by name or email'\r\n                            notFoundContent='Nobody found :('\r\n                            defaultActiveFirstOption={false}\r\n                            showArrow={false}\r\n                            filterOption={false}\r\n                            showSearch>\r\n                            {options}\r\n                        </Select>\r\n                    </Form.Item>\r\n                    <Form.Item label={'Input your message'}>\r\n                        <TextArea\r\n                            style={{marginTop: 10}}\r\n                            onChange={onTextAreaChange}\r\n                            value={messageText}\r\n                            placeholder=\"Input your message here\"\r\n                            autosize={{\r\n                                minRows: 1,\r\n                                maxRows: 6,\r\n                            }}\r\n                        />\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        </div>\r\n        <div className=\"chat__sidebar-dialogs\">\r\n        <Dialogs\r\n            myId={user && user._id}/>\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nSidebar.defaultProps = {\r\n    users: []\r\n};\r\n\r\nexport default Sidebar;","import React, {useEffect, useState} from 'react';\r\nimport { Upload, Modal } from 'antd';\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\nconst FilesUploader = ({ attachments, removeAttachment }) => {\r\n    const [state, setState] = useState({\r\n        previewVisible: false,\r\n        previewImage: \"\",\r\n        fileList: attachments\r\n    });\r\n\r\n    useEffect(() => {\r\n        setState({\r\n            ...state,\r\n            fileList: attachments,\r\n        });\r\n    }, [attachments]);\r\n\r\n    const handleCancel = () => setState({...state, previewVisible: false});\r\n\r\n    const handlePreview = async file => {\r\n        console.log(file);\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originalFileObj);\r\n        }\r\n\r\n        setState({\r\n            ...state,\r\n            previewImage: file.url || file.preview,\r\n            previewVisible: true,\r\n        })\r\n    };\r\n\r\n    const handleChange = ({ fileList }) => setState({ fileList });\r\n\r\n    return (\r\n        <div className=\"clearfix\">\r\n            <Upload\r\n                action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                listType=\"picture-card\"\r\n                fileList={state.fileList}\r\n                onPreview={handlePreview}\r\n                onChange={handleChange}\r\n                onRemove={file => removeAttachment(file)}/>\r\n            <Modal visible={state.previewVisible} footer={null} onCancel={handleCancel}>\r\n                <img alt=\"example\" style={{ width: '100%' }} src={state.previewImage} />\r\n            </Modal>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default FilesUploader;","import React from 'react';\r\nimport { Button, Icon } from 'antd';\r\n\r\nconst GoBackButton = () => {\r\n    const handleClick = () => {\r\n        document.querySelector('.chat').style.transform = 'translateX(0)';\r\n    };\r\n\r\n    return (\r\n        <Button type='link' shape='circle' icon=\"left\" onClick={handleClick} style={{color: '#999', fontSize: 22}}/>\r\n    )\r\n};\r\n\r\nexport default GoBackButton;","import React from 'react';\r\nimport {Form, Icon, Input} from \"antd\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport {Button, Block} from \"components\";\r\nimport { validateField } from 'utils/helpers';\r\n\r\nconst LoginForm = props => {\r\n    const {\r\n        values,\r\n        touched,\r\n        errors,\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n        isValid,\r\n        isSubmitting,\r\n    } = props;\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"auth__top\">\r\n                <h2>Enter account</h2>\r\n                <p>Please enter your account</p>\r\n            </div>\r\n            <Block>\r\n                <Form className=\"login-form\">\r\n                    <Form.Item\r\n                        validateStatus={\r\n                            validateField(touched, errors, 'email')\r\n                        }\r\n                        help={\r\n                            !touched.email ? '' : errors.email || ''\r\n                        }>\r\n                        <Input\r\n                            id='email'\r\n                            size='large'\r\n                            prefix={<Icon type=\"user\" style={{color: 'rgba(0,0,0,.25)'}}/>}\r\n                            placeholder=\"E-mail\"\r\n                            values={values.email}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}/>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        validateStatus={\r\n                            validateField(touched, errors, 'password')\r\n                        }\r\n                        help={!touched.password ? '' : errors.password || ''}>\r\n                        <Input\r\n                            id='password'\r\n                            size='large'\r\n                            prefix={<Icon type=\"lock\" style={{color: 'rgba(0,0,0,.25)'}}/>}\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={values.password}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}/>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {isSubmitting && !isValid && <span>Error!</span>}\r\n                        <Button\r\n                                disabled={isSubmitting}\r\n                                onClick={handleSubmit}\r\n                                size='large'\r\n                                type='primary'\r\n                                htmlType=\"submit\"\r\n                                className=\"login-form-button button\">\r\n                            Log in\r\n                        </Button>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Link to='register'\r\n                            className='auth__register-link'>\r\n                            Register\r\n                        </Link>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Block>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoginForm;","import LoginForm from './containers/LoginForm';\r\n\r\nexport default LoginForm;","import { withFormik } from 'formik';\r\n\r\nimport store from 'redux/store';\r\nimport validateForm from 'utils/validate';\r\nimport LoginForm from '../components/LoginForm';\r\nimport { userActions } from 'redux/actions';\r\n\r\n\r\nconst LoginFormContainer = withFormik({\r\n    mapPropsToValues: () => ({\r\n        email: '',\r\n        password: ''\r\n    }),\r\n    validate: values => {\r\n        let errors = {};\r\n\r\n        validateForm({ isAuth: true, values: values, errors: errors});\r\n\r\n        return errors;\r\n    },\r\n    handleSubmit: (values, { setSubmitting, props }) => {\r\n        store.dispatch(userActions\r\n            .fetchUserLogin(values))\r\n            .then(({ status }) => {\r\n                if (status === 'success') {\r\n                    props.history.push('/');\r\n                }\r\n                setSubmitting(false);\r\n            })\r\n            .catch(() => setSubmitting(false));\r\n    },\r\n    displayName: 'LoginForm',\r\n})(LoginForm);\r\n\r\nexport default LoginFormContainer;","import React from 'react';\r\nimport { Form, Icon, Input } from \"antd\";\r\nimport { Button, Block } from \"../../../components\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { validateField } from '../../../utils/helpers';\r\n\r\nconst RegisterForm = props => {\r\n    const success = true;\r\n\r\n    const  {\r\n        values,\r\n        touched,\r\n        errors,\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n        isSubmitting,\r\n    } = props;\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"auth__top\">\r\n                <h2>Register New Account</h2>\r\n                <p>Please fill in these fields</p>\r\n            </div>\r\n            <Block>\r\n                { success ?\r\n                <Form className=\"register-form\">\r\n                    <Form.Item\r\n                        validateStatus={\r\n                            validateField(touched, errors, 'email')\r\n                        }\r\n                        hasFeedback\r\n                        help={!touched.email ? '' : errors.email || ''}>\r\n                        <Input\r\n                            id='email'\r\n                            size='large'\r\n                            prefix={<Icon type='mail' style={{color: 'rgba(0, 0, 0, .25)'}}/>}\r\n                            placeholder='Email'\r\n                            value={values.email}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}/>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Input\r\n                            size='large'\r\n                            id='fullname'\r\n                            value={values.fullname}\r\n                            onChange={handleChange}\r\n                            prefix={<Icon type=\"user\" style={{color: 'rgba(0,0,0,.25)'}}/>}\r\n                            placeholder=\"Username\"/>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        validateStatus={\r\n                            !touched.password ? '' : errors.password ? 'error' : 'success'\r\n                        }\r\n                        hasFeedback\r\n                        help={!touched.password ? '' : errors.password || ''}>\r\n                        <Input\r\n                            id='password'\r\n                            size='large'\r\n                            prefix={<Icon type=\"lock\" style={{color: 'rgba(0,0,0,.25)'}}/>}\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={values.password}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}/>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        validateStatus={\r\n                            !touched.repassword ? '' : errors.repassword ? 'error' : 'success'\r\n                            }\r\n                            hasFeedback\r\n                            help={!touched.repassword ? '' : errors.repassword ? errors.repassword : ''}>\r\n                        <Input\r\n                            id='repassword'\r\n                            size='large'\r\n                            prefix={<Icon type=\"lock\" style={{color: 'rgba(0,0,0,.25)'}}/>}\r\n                            type='password'\r\n                            placeholder='Repeat Password'\r\n                            value={values.repassword}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}/>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button\r\n                                disabled={isSubmitting}\r\n                                onClick={handleSubmit}\r\n                                size=\"large\"\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                className=\"button login-form-button\">\r\n                            Create new account\r\n                        </Button>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Link to='login'\r\n                            className='auth__register-link'>\r\n                            Log in\r\n                        </Link>\r\n                    </Form.Item>\r\n                </Form>\r\n                    : <div className=\"auth__success-block\">\r\n                        <div>\r\n                            <Icon\r\n                                style={{fontSize: 50}}\r\n                                type='info-circle'\r\n                                theme='twoTone'/>\r\n                        </div>\r\n                        <h3>Confirm your profile</h3>\r\n                        <p>An email with confirmation link has benn sent to your email</p>\r\n                    </div> }\r\n            </Block>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterForm;","import RegisterForm from './containers/RegisterForm';\r\n\r\nexport default RegisterForm;","\r\nimport { withFormik } from \"formik\";\r\n\r\nimport RegisterForm from '../components/RegisterForm';\r\nimport validateForm from 'utils/validate';\r\nimport store from 'redux/store';\r\nimport { userActions } from 'redux/actions';\r\nimport { openNotification } from 'utils/helpers';\r\n\r\n\r\nexport default withFormik({\r\n    mapPropsToValues: () => ({\r\n        fullname: '',\r\n        email: '',\r\n        password: '',\r\n        repassword: '',\r\n    }),\r\n    validate: values => {\r\n        let errors = {};\r\n\r\n        validateForm({ isAuth : false, values: values, errors: errors });\r\n\r\n        return errors;\r\n    },\r\n    handleSubmit: (values, { setSubmitting, props }) => {\r\n        store.dispatch(\r\n            userActions\r\n            .fetchUserRegister(values)\r\n        )\r\n            .then(({ data }) => {\r\n                if (data.status === 'success') {\r\n                    props.history.push('/register/verify');\r\n                }\r\n                setSubmitting(false);\r\n            })\r\n            .catch(() => {\r\n                setSubmitting(false)\r\n                openNotification({\r\n                    text: 'Such user exists',\r\n                    type: 'error',\r\n                    title: 'Error',\r\n                })\r\n            })\r\n    },\r\n    displayName: 'RegisterForm',\r\n})(RegisterForm);","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport { LoginForm, RegisterForm } from \"modules\";\r\nimport { VerifyEmail } from 'components';\r\n\r\nimport './Auth.scss';\r\n\r\nconst Auth = () => (\r\n    <section className='auth'>\r\n        <div className=\"auth__content\">\r\n            <Route exact path={['/', '/login']} component={LoginForm}/>\r\n            <Route exact path='/register' component={RegisterForm}/>\r\n            <Route exact path='/register/verify' component={VerifyEmail}/>\r\n        </div>\r\n    </section>\r\n);\r\n\r\nexport default Auth;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { Status, Sidebar, Messages, ChatInput } from 'containers';\r\nimport { Avatar, GoBackButton } from 'components';\r\n\r\nimport './Home.scss';\r\n\r\nconst Home = ({\r\n    user,\r\n    attachments,\r\n}) => {\r\n    const [myInfo, setMyInfo] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (user.data) {\r\n            setMyInfo(user.data);\r\n        }\r\n    }, [user.data]);\r\n\r\n    return (\r\n    <section className=\"home\">\r\n        <div className=\"chat\">\r\n            <Sidebar/>\r\n            <div className=\"chat__dialog\">\r\n                <div className=\"chat__dialog-header\">\r\n                    <GoBackButton/>\r\n                    <Status/>\r\n                    {myInfo && !myInfo.token && <div className=\"chat__account\">\r\n                        <Avatar user={myInfo}/>\r\n                    </div>}\r\n                </div>\r\n                <div className=\"chat__dialog-messages\" style={{\r\n                    height: `calc(100% - ${attachments.items.length >= 1 ? 263: 138}px)`\r\n                }}>\r\n                    <Messages\r\n                        myId={myInfo._id || ''}/>\r\n                </div>\r\n                <ChatInput />\r\n            </div>\r\n        </div>\r\n    </section>)\r\n};\r\n\r\nexport default connect(\r\n    ({user, attachments}) => ({user, attachments})\r\n)(withRouter(Home));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Redirect, Switch } from 'react-router-dom';\r\n\r\nimport { Auth, Home } from './pages';\r\n\r\nconst App = props => {\r\n  const { isAuthed } = props;\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path={['/login', '/register', '/register/verify']}\r\n          component={Auth}\r\n          />\r\n        <Route\r\n          path='/'\r\n          render={() => isAuthed ? <Home /> : <Redirect to='/login'/>}\r\n          />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(({ user }) => ({ isAuthed: user.isAuthed }))(App);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './App';\r\nimport store from './redux/store';\r\nimport { userActions } from './redux/actions';\r\n\r\nimport './styles/index.scss';\r\nimport 'emoji-mart/css/emoji-mart.css'\r\n\r\n\r\nstore.dispatch(userActions.fetchUserData());\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <Router>\r\n            <App />\r\n        </Router>\r\n    </Provider>\r\n    , document.querySelector('#root'));","import { combineReducers } from 'redux';\r\n\r\nconst reducers = [\r\n    'messages',\r\n    'dialogs',\r\n    'user',\r\n    'attachments',\r\n];\r\n\r\nexport default combineReducers(\r\n    reducers.reduce((initial, name) => {\r\n        initial[name] = require(`./${name}`).default;\r\n        return initial;\r\n    }, {})\r\n);"],"sourceRoot":""}